{"version":3,"sources":["redux/Data/Avatars/avatar1.jpg","redux/Data/Avatars/avatar2.jpg","redux/Data/Avatars/avatar3.jpg","redux/Data/Avatars/avatar4.jpg","components/Nav/nav.module.css","components/common/Separator/separator.module.css","components/common/InfoItem/infoitem.module.css","components/common/Preloader/preloader.module.css","components/Main/ProfilePage/Posts/PostList/postlist.module.css","components/Main/Users/UserItem/FollowButton/followbutton.module.css","components/Main/Dialogs/DialogsList/dialogslist.module.css","components/Main/Dialogs/Messages/messages.module.css","components/Footer/footer.module.css","components/common/LogButton/logbutton.module.css","components/Main/main.module.css","components/Main/LoginPage/loginpage.module.css","components/common/Button/button.module.css","components/Main/ProfilePage/Profile/ProfileInfo/profileinfo.module.css","components/Main/Users/UserItem/useritem.module.css","components/Main/Users/UserItem/UserAvatar/useravatar.module.css","components/Main/Settings/settings.module.css","components/Header/header.module.css","components/Main/LoginPage/LoginForm/loginform.module.css","components/Main/ProfilePage/Posts/PostList/PostItem/postitem.module.css","serviceWorker.js","forms/validation.js","redux/Data/friendsData.js","redux/reducers/navBarReducer.js","redux/Data/usersPosts.js","redux/reducers/profilePageReducer.js","redux/Data/usersDialogs.js","redux/reducers/messagesPageReducer.js","redux/reducers/newsPageReducer.js","redux/reducers/musicPageReducer.js","redux/Data/usersList.js","redux/reducers/usersPageReducer.js","redux/reducers/authReducer.js","redux/reducers/appReducer.js","redux/redux-store.js","components/common/LogButton/LogButton.jsx","components/Header/Header.jsx","redux/actionCreators.js","api/api.js","redux/thunkCreators.js","redux/selectors.js","components/Header/HeaderContainer.jsx","components/Nav/NavItem/NavItem.jsx","components/Nav/FriendsBar/FriendItem/FriendItem.jsx","components/Nav/FriendsBar/FriendsBar.jsx","components/Nav/FriendsBar/FriendsBarContainer.jsx","components/Nav/Nav.jsx","components/common/Button/Button.jsx","components/common/Separator/Separator.jsx","forms/controlledForms.jsx","components/Main/LoginPage/LoginForm/LoginForm.jsx","components/Main/LoginPage/LoginPage.jsx","components/Main/LoginPage/LoginPageContainer.jsx","components/hoc/withAuthRedirect.jsx","components/common/InfoItem/InfoItem.js","components/Main/ProfilePage/Profile/ProfileInfo/ProfileInfo.jsx","components/common/Preloader/Preloader.js","components/Main/ProfilePage/Profile/ProfileStatus/StatusEdit/StatusEdit.jsx","components/Main/ProfilePage/Profile/ProfileStatus/ProfileStatus.jsx","components/Main/ProfilePage/Profile/Profile.jsx","components/Main/ProfilePage/Profile/ProfileContainer.jsx","components/Main/ProfilePage/Posts/PostCreate/PostForm.jsx","components/Main/ProfilePage/Posts/PostCreate/PostCreate.jsx","components/Main/ProfilePage/Posts/PostCreate/PostCreateContainer.jsx","components/Main/ProfilePage/Posts/PostList/PostItem/PostItem.jsx","components/Main/ProfilePage/Posts/PostList/PostList.jsx","components/Main/ProfilePage/Posts/PostList/PostListContainer.jsx","components/Main/ProfilePage/ProfilePage.jsx","components/Main/ProfilePage/ProfilePageContainer.jsx","components/hoc/withScrollToTopOnLoad.jsx","components/Main/Music/Music.jsx","components/Main/News/News.jsx","components/Main/Users/UserItem/UserAvatar/UserAvatar.jsx","components/common/ButtonLoading/ButtonLoading.jsx","components/Main/Users/UserItem/FollowButton/FollowButton.jsx","components/Main/Users/UserItem/UserInfo/UserInfo.jsx","components/Main/Users/UserItem/UserItem.jsx","components/common/Pages/Pages.jsx","components/Main/Users/Users.jsx","components/Main/Users/UsersContainer.jsx","components/Main/Dialogs/DialogsList/DialogsItem/DialogsItem.jsx","components/Main/Dialogs/DialogsList/DialogsList.jsx","components/Main/Dialogs/DialogsList/DialogsListContainer.jsx","components/Main/Dialogs/Messages/MessagesBody/MessageItem/MessageItem.jsx","components/Main/Dialogs/Messages/MessagesBody/MessagesBody.jsx","components/Main/Dialogs/Messages/MessagesBody/MessagesBodyContainer.jsx","components/Main/Dialogs/Messages/CreateMessage/NewMessageForm.jsx","components/Main/Dialogs/Messages/CreateMessage/CreateMessage.jsx","components/Main/Dialogs/Messages/CreateMessage/CreateMessageContainer.jsx","components/Main/Dialogs/Messages/Messages.jsx","components/Main/Dialogs/Messages/MessagesContainer.jsx","components/Main/Dialogs/Dialogs.jsx","components/Main/Dialogs/DialogsContainer.jsx","components/Main/Settings/Settings.jsx","components/Main/Settings/SettingsContainer.jsx","components/Main/Main.jsx","components/Footer/Footer.jsx","App.js","components/common/AppLoader/AppLoader.jsx","AppWrapper.js","index.js","forms/controlledforms.module.css","components/Main/ProfilePage/Profile/profile.module.css","components/common/ButtonLoading/buttonloading.module.css","components/common/Pages/pages.module.css","components/Main/Dialogs/DialogsList/DialogsItem/dialogsitem.module.css","components/Main/ProfilePage/Posts/PostCreate/postcreate.module.css","components/Main/Dialogs/Messages/CreateMessage/createmessage.module.css","components/Main/Users/users.module.css","components/Main/Dialogs/dialogs.module.css","assets/images/UserDefault.png","components/Nav/NavItem/navitem.module.css","components/Nav/FriendsBar/friendsbar.module.css","components/Nav/FriendsBar/FriendItem/frienditem.module.css","components/Main/ProfilePage/Profile/ProfileStatus/profilestatus.module.css","components/Main/ProfilePage/Profile/ProfileStatus/StatusEdit/statusedit.module.css","components/Main/Users/UserItem/UserInfo/userinfo.module.css","components/Main/Dialogs/Messages/MessagesBody/messagesbody.module.css","components/Main/Dialogs/Messages/MessagesBody/MessageItem/messageitem.module.css","components/common/AppLoader/apploader.module.css"],"names":["module","exports","Boolean","window","location","hostname","match","minLength","friends","userId","initialState","navBarReducer","state","postsList","postId","authorId","time","text","loggedUser","authorizedUser","shownUser","currentUserInfo","currentUserStatus","isPhotoUploading","profilePageReducer","action","type","newPost","length","postText","id","user","status","photos","isUploading","usersDialogs","messagesHistory","currentUser","currentDialog","getDialog","this","find","item","messagesPageReducer","newState","Object","assign","newMessage","message","push","newsPageReducer","musicPageReducer","usersList","firstName","lastName","fullName","small","avatar1","large","countryName","cityName","followed","contacts","facebook","website","vk","twitter","instagram","youtube","github","mainLink","aboutMe","lookingForAJob","lookingForAJobDescription","avatar2","avatar3","avatar4","friendsShown","serverUsersList","shownUsersNumber","usersTotal","currentPage","isLoading","inFollowingProgress","getName","getAvatar","getFullName","getUser","getInfo","usersPageReducer","map","users","number","value","filter","isLoggedIn","loginProcessStatus","currentUserDetails","login","email","authReducer","data","isInProcess","isInitialized","reducers","combineReducers","app","appReducer","auth","navBar","profilePage","messagesPage","usersPage","newsPage","musicPage","form","formReducer","store","createStore","applyMiddleware","thunk","LogButton","props","to","className","styles","button","additionalClass","onClick","buttonName","HeaderSignOut","username","name","HeaderSignIn","Header","header","title","href","logo","userDetails","logout","toggleFollow","setUsers","setLoadingStatus","setCurrentUser","setLoggedStatus","setLoginProcessStatus","setLoggedUserDetails","setFollowingProgressStatus","setCurrentUserStatus","setIsPhotoUploading","instance","axios","baseURL","withCredentials","headers","usersAPI","count","page","get","then","response","put","photo","formData","FormData","append","authAPI","userInfo","post","delete","followAPI","authUser","dispatch","a","resultCode","actionCreators","getIsLoggedIn","getCurrentUserDetails","getLoginProcessStatus","getIsInitialized","getFriendsList","getNameGetter","getAvatarGetter","getServerUsersList","getShownUsersNumber","getUsersTotal","getCurrentPage","getInFollowingProgress","getIsLoading","getAuthorizedUser","getShownUser","getLoggedUser","getCurrentUserInfo","getCurrentUserStatus","getPostsList","getIsPhotoUploading","getCurrentDialogId","getUsersDialogs","getDialogGetter","HeaderContainer","logoutUser","Component","compose","connect","selectors","NavItem","itemLink","activeClassName","active","linkname","FriendItem","avatar","src","image","alt","FriendsBar","friendsList","friendsBar","items","key","FriendsBarContainer","Nav","nav","list","Button","createButton","addClass","disabled","Separator","separator","line","ControlledInput","input","meta","hasError","error","touched","errorMessage","inputItem","inputLabel","errorLabel","htmlFor","label","errorInput","placeholder","required","fieldName","undefined","emailContains","includes","minLength8","requiredPass","requiredEmail","LoginForm","loginForm","onSubmit","handleSubmit","formError","Field","component","validate","rememberMe","submitButton","inSubmit","LoginReduxForm","reduxForm","LoginPage","loginPage","loginUser","reset","LoginPageContainer","loginInfo","stopSubmit","_error","messages","withAuthRedirect","ContainerComponent","React","InfoItem","info","checkIfGiven","ProfileInfo","infoList","Preloader","loaderContainer","extraClass","loader","StatusEdit","statusDiv","useRef","handleClickAway","e","current","contains","target","onClickAway","useEffect","addEventListener","removeEventListener","statusEdit","ref","maxLength","statusInput","autoFocus","onChange","currentTarget","ProfileStatus","useState","editMode","setEditMode","currentStatus","setCurrentStatus","toggleEditMode","isOwner","updateStatus","prev","statusBox","statusText","Profile","preloader","profile","UserDefault","updateProfile","details","userName","updateCurrentUserStatus","ProfileContainer","urlId","params","getUserProfile","prevProps","currentUserId","userToShow","withRouter","PostForm","newText","AddPostForm","PostCreate","createPost","addPost","PostItem","postItem","author","authorAvatar","authorName","body","PostList","posts","reverse","PostListContainer","ProfilePage","PostCreateContainer","scrollTo","Music","music","News","news","UserAvatar","ButtonLoading","loading","style","backgroundColor","loadingItem","FollowButton","isFollowed","followButton","UserInfo","UserItem","Pages","firstPage","pagesToShow","pagesTotal","Math","ceil","i","pagesBar","switchPage","pages","pageNumber","picked","Users","onPageChanged","UsersContainer","changePage","stateInfo","getUsers","usersNumberToShow","numberToShow","totalCount","DialogsItem","userAvatar","lastMessage","returnLastMessage","array","slice","DialogsList","dialogs","setCurrentDialogId","DialogsListContainer","MessageItem","isSelfMessage","MessagesBody","dialog","messagesList","idSelf","selfMessage","messagesBody","MessagesBodyContainer","messageField","SendMessageForm","NewMessageForm","CreateMessage","sendMessage","messageText","Messages","CreateMessageContainer","MessagesContainer","ChooseDialog","noDialog","noDialogTitle","Dialogs","path","render","currentDialogId","UploadPhoto","uploadPhoto","preview","URL","createObjectURL","photoPreview","options","choosePhoto","upload","Settings","setPhoto","settings","photoUpdate","settingsSection","sectionTitle","files","Main","main","ProfilePageContainer","DialogsContainer","SettingsContainer","Footer","footer","App","AppLoader","AppWrapper","initializeApp","authPromise","Promise","all","renderApp","ReactDOM","document","getElementById","subscribe","navigator","serviceWorker","ready","registration","unregister","catch","console"],"mappings":"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","file":"static/js/main.284fbb1b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/avatar1.0606301c.jpg\";","module.exports = __webpack_public_path__ + \"static/media/avatar2.aa610c09.jpg\";","module.exports = __webpack_public_path__ + \"static/media/avatar3.b2eb87e5.jpg\";","module.exports = __webpack_public_path__ + \"static/media/avatar4.13aec6a5.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"nav_nav__3ISbk\",\"list\":\"nav_list__Mm265\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"separator\":\"separator_separator__Cf5eM\",\"line\":\"separator_line__2mLzD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"infoitem_item__12B_1\",\"data\":\"infoitem_data__3oEJj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loaderContainer\":\"preloader_loaderContainer__3B1ZB\",\"loader\":\"preloader_loader__ru23u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"postlist_posts__3Fips\",\"title\":\"postlist_title__1WD7W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"followButton\":\"followbutton_followButton__1Eiru\",\"followed\":\"followbutton_followed__zT6D1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"dialogslist_dialogs__6c6J4\",\"title\":\"dialogslist_title__3D_l8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messages\":\"messages_messages__1ehma\",\"title\":\"messages_title__1ys3D\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"footer_footer__Xv_4w\",\"info\":\"footer_info__2Q1dF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"logbutton_button__116zU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"main_main__2aZsZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"loginpage_preloader__3FYZS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"createButton\":\"button_createButton__1JTgw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"infoList\":\"profileinfo_infoList__36QE6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"useritem_item__3PNRF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"useravatar_avatar__2evJ2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"settings\":\"settings_settings__1Ggle\",\"title\":\"settings_title__4ubpb\",\"label\":\"settings_label__1IhfT\",\"upload\":\"settings_upload__BaAnJ\",\"uploadPhoto\":\"settings_uploadPhoto__1mwUv\",\"preloader\":\"settings_preloader__1w4gF\",\"choosePhoto\":\"settings_choosePhoto__3nZ2e\",\"options\":\"settings_options__xRoOC\",\"preview\":\"settings_preview__3CsBc\",\"photoPreview\":\"settings_photoPreview__1FraR\",\"sectionTitle\":\"settings_sectionTitle__2QQda\",\"settingsSection\":\"settings_settingsSection__3WJF4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__2cW2I\",\"title\":\"header_title__17lNI\",\"logo\":\"header_logo__GuV_p\",\"name\":\"header_name__1zIXi\",\"button\":\"header_button__17aZo\",\"username\":\"header_username__vG21x\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginForm\":\"loginform_loginForm__2OkPe\",\"title\":\"loginform_title__32Dpe\",\"rememberMe\":\"loginform_rememberMe__1ppKN\",\"submitButton\":\"loginform_submitButton__1-6ce\",\"formError\":\"loginform_formError__3fP69\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postItem\":\"postitem_postItem__22ddw\",\"author\":\"postitem_author__3mfpj\",\"authorAvatar\":\"postitem_authorAvatar__gJ6UV\",\"time\":\"postitem_time__3tMHJ\",\"body\":\"postitem_body__257Wx\"};","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","export const required = (fieldName) => {\r\n  return (value) => {\r\n    return !value ? `Enter your ${fieldName}!` : undefined;\r\n  }\r\n} \r\n\r\nexport const maxLength = (maxLength) => {\r\n  return (value) => {\r\n    if (value && value.length > maxLength) {\r\n      return `Max length is ${maxLength} symbols!`;\r\n    }\r\n\r\n    return undefined;\r\n  }\r\n}\r\nexport const minLength = (minLength) => {\r\n  return (value) => {\r\n    if (value && value.length > 0 && value.length < minLength) {\r\n      return `Min length is ${minLength} symbols!`;\r\n    }\r\n\r\n    return undefined;\r\n  }\r\n}\r\nexport const emailContains = (value) => {\r\n  if (!value.includes(\"@\")) {\r\n    return `Email must include '@' symbol!`;\r\n  }\r\n\r\n  return undefined;\r\n}","let friends = [\r\n  { userId: \"184760497\" },\r\n  { userId: \"987343516\" },\r\n  { userId: \"084926135\" },\r\n];\r\n\r\nexport default friends;","import friends from '../Data/friendsData';\r\n\r\nlet initialState = {\r\n  friends: friends,\r\n};\r\n\r\nconst navBarReducer = (state = initialState, action) => {\r\n  return state;\r\n}\r\n\r\nexport default navBarReducer;","let postsList = [\r\n  {\r\n    postId: \"1\",\r\n    authorId: \"641006348\",\r\n    time: \"5 days ago\",\r\n    text: \"I'm new here. This website looks prefect!\",\r\n  },\r\n  {\r\n    postId: \"2\",\r\n    authorId: \"084926135\",\r\n    time: \"yesterday\",\r\n    text: `Lorem, ipsum dolor sit amet consectetur adipisicing elit. Excepturi\r\n      non culpa delectus a ea distinctio officia labore, atque sed\r\n      voluptatem. Tempora, iste quasi! Neque, veritatis expedita. Obcaecati\r\n      molestias eaque animi.Lorem, ipsum dolor sit amet consectetur adipisicinelit. Excepturi\r\n      non culpa delectus a ea distinctio officia labore, atque sed\r\n      voluptatem. Tempora, iste quasi! Neque, veritatis expedita. Obcaecati\r\n      molestias eaque animi.Lorem, ipsum dolor sit amet consectetur adipisicinelit. Excepturi\r\n      non culpa delectus a ea distinctio officia labore, atque sed\r\n      voluptatem. Tempora, iste quasi! Neque, veritatis expedita. Obcaecati\r\n      molestias eaque animi.`,\r\n  },\r\n  {\r\n    postId: \"3\",\r\n    authorId: \"641006348\",\r\n    time: \"8 hours ago\",\r\n    text: \"What's up guys?\",\r\n  },\r\n  {\r\n    postId: \"4\",\r\n    authorId: \"184760497\",\r\n    time: \"1 hour ago\",\r\n    text: `Two exquisite objection delighted deficient yet its containedCordial because are account evident its subject but eat. Can properlfollowed learning prepared you doubtful yethim. Over many our good ladfeet ask that. Expenses own moderate day fat trifling stronger sir domestifeelings. Itself at be answer always exeter up do. Though or my plentuneasy do.Friendship so considered remarkably be to sentiments. Offeremention greater fifteen one promise because nor. Why denoting speaking faindulged saw dwelling raillery. `,\r\n  },\r\n  {\r\n    postId: \"5\",\r\n    authorId: \"987343516\",\r\n    time: \"35 minutes ago\",\r\n    text: \"Why end might ask civil again spoil. She dinner she our horsedepend. Remember at children by reserved to vicinity. In affrontinunreserved delightful simplicity ye.\",\r\n  },\r\n];\r\n\r\nexport default postsList;","import friends from '../Data/friendsData';\r\nimport postsList from '../Data/usersPosts';\r\n\r\nconst SET_CURRENT_USER = \"SET-CURRENT-USER\";\r\nconst SET_CURRENT_USER_INFO = \"SET-CURRENT-USER-INFO\";\r\nconst SET_CURRENT_USER_STATUS = \"SET-CURRENT-USER-STATUS\";\r\nconst SET_CURRENT_USER_PHOTOS = \"SET-CURRENT-USER-PHOTOS\";\r\nconst SET_IS_PHOTO_UPLOADING = \"SET-IS-PHOTO-UPLOADING\";\r\n\r\nconst ADD_POST = \"ADD-POST\";\r\n\r\nlet initialState = {\r\n  loggedUser: \"641006348\", // for fake data\r\n  authorizedUser: null,\r\n  shownUser: null,\r\n  currentUserInfo: null,\r\n  currentUserStatus: \"\",\r\n  friends: friends,\r\n  postsList: postsList,\r\n  isPhotoUploading: false,\r\n};\r\n\r\nlet profilePageReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_POST:\r\n      let newPost = {};\r\n\r\n      newPost.postId = state.postsList.length + 1;\r\n      newPost.authorId = \"641006348\";\r\n      newPost.time = \"just now\";\r\n      newPost.text = action.postText;\r\n\r\n      return {\r\n        ...state,\r\n        postsList: [...state.postsList, newPost],\r\n      }\r\n    case SET_CURRENT_USER:\r\n      return {\r\n        ...state,\r\n        authorizedUser: action.id,\r\n      }\r\n    case SET_CURRENT_USER_INFO:\r\n      return {\r\n        ...state,\r\n        shownUser: action.user.userId,\r\n        currentUserInfo: action.user,\r\n      }\r\n    case SET_CURRENT_USER_STATUS:\r\n      return {\r\n        ...state,\r\n        currentUserStatus: action.status,\r\n      }\r\n    case SET_CURRENT_USER_PHOTOS: \r\n      return {\r\n        ...state,\r\n        currentUserInfo: {\r\n          ...state.currentUserInfo,\r\n          photos: action.photos\r\n        }\r\n      }\r\n    case SET_IS_PHOTO_UPLOADING: \r\n      return {\r\n        ...state,\r\n        isPhotoUploading: action.isUploading,\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default profilePageReducer;","let usersDialogs = [\r\n  {\r\n    userId: \"184760497\",\r\n    messagesHistory: [\r\n      {\r\n        id: \"184760497\",\r\n        time: 1,\r\n        text: 'Message1',\r\n      },\r\n      {\r\n        id: \"641006348\",\r\n        time: 2,\r\n        text: 'Message2',\r\n      },\r\n      {\r\n        id: \"184760497\",\r\n        time: 3,\r\n        text: 'Message3',\r\n      },\r\n      {\r\n        id: \"184760497\",\r\n        time: 4,\r\n        text: 'Wow, the last from Vitaliy. He\\'s da best!!',\r\n      },\r\n    ]\r\n  },\r\n  {\r\n    userId: \"084926135\",\r\n    messagesHistory: [\r\n      {\r\n        id: \"084926135\",\r\n        time: 1,\r\n        text: 'Message one by Ann',\r\n      },\r\n      {\r\n        id: \"641006348\",\r\n        time: 2,\r\n        text: 'Firs message by me',\r\n      },\r\n      {\r\n        id: \"641006348\",\r\n        time: 3,\r\n        text: 'Another message by me',\r\n      },\r\n      {\r\n        id: \"084926135\",\r\n        time: 4,\r\n        text: 'This one is not the last from Ann..',\r\n      },\r\n      {\r\n        id: \"084926135\",\r\n        time: 5,\r\n        text: 'and one more message by Ann',\r\n      },\r\n      {\r\n        id: \"641006348\",\r\n        time: 6,\r\n        text: 'look, it\\'s my message again',\r\n      },\r\n      {\r\n        id: \"641006348\",\r\n        time: 7,\r\n        text: 'and this one is also sent by me, not by Ann',\r\n      },\r\n      {\r\n        id: \"084926135\",\r\n        time: 8,\r\n        text: 'This one is the last from Ann. Actually truth',\r\n      },\r\n    ]\r\n  },\r\n  {\r\n    userId: \"987343516\",\r\n    messagesHistory: [\r\n      {\r\n        id: \"987343516\",\r\n        time: 1,\r\n        text: 'Message1',\r\n      },\r\n      {\r\n        id: \"641006348\",\r\n        time: 2,\r\n        text: 'Message2',\r\n      },\r\n      {\r\n        id: \"987343516\",\r\n        time: 3,\r\n        text: 'Message3',\r\n      },\r\n      {\r\n        id: \"987343516\",\r\n        time: 4,\r\n        text: 'Last message from Victoria!',\r\n      },\r\n    ]\r\n  },\r\n];\r\n\r\n\r\n\r\nexport default usersDialogs;","import usersDialogs from '../Data/usersDialogs';\r\n\r\nconst SEND_MESSAGE = \"SEND-MESSAGE\";\r\nconst SET_CURRENT_DIALOG_ID = \"SET-CURRENT-DIALOG-ID\";\r\n\r\nlet initialState = {\r\n  usersDialogs: usersDialogs,\r\n  currentUser: \"641006348\",\r\n  currentDialog: null,\r\n  getDialog(id) {\r\n    const dialogs = this.usersDialogs;\r\n    const dialog = dialogs.find(item => item.userId === id);\r\n    return dialog.messagesHistory;\r\n  },\r\n};\r\n\r\nlet messagesPageReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SEND_MESSAGE: {\r\n      let newState = Object.assign({}, state);\r\n      let newMessage = {};\r\n      let messagesHistory = newState.getDialog(newState.currentDialog);\r\n\r\n      newMessage.text = action.message;\r\n      newMessage.id = newState.currentUser;\r\n      newMessage.time = messagesHistory.length + 1;\r\n      messagesHistory.push(newMessage);\r\n      \r\n      return newState;\r\n    }\r\n    case SET_CURRENT_DIALOG_ID: \r\n      return {\r\n        ...state,\r\n        currentDialog: action.id,\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default messagesPageReducer;","let initialState = {};\r\n\r\nconst newsPageReducer = (state = initialState, action) => {\r\n  return state;\r\n}\r\n\r\nexport default newsPageReducer;","let initialState = {};\r\n\r\nconst musicPageReducer = (state = initialState, action) => {\r\n  return state;\r\n}\r\n\r\nexport default musicPageReducer;","import avatar1 from './Avatars/avatar1.jpg';\r\nimport avatar2 from './Avatars/avatar2.jpg';\r\nimport avatar3 from './Avatars/avatar3.jpg';\r\nimport avatar4 from './Avatars/avatar4.jpg';\r\n\r\nconst usersList = [\r\n  {\r\n    id: \"641006348\",\r\n    firstName: \"Sasha\",\r\n    lastName: \"Plotnikov\",\r\n    fullName: \"Sasha Plotnikov\",\r\n    photos: {\r\n      small: avatar1,\r\n      large: avatar1,\r\n    },\r\n    location: {\r\n      countryName: \"Ukraine\",\r\n      cityName: \"Kyiv\"\r\n    },\r\n    followed: false,\r\n    status: 'I want to be a good person...',\r\n    contacts: {\r\n      facebook: \"facebook.com\",\r\n      website: \"https://github.com/spclear\",\r\n      vk: \"vk.com/\",\r\n      twitter: \"https://twitter.com/@sdf\",\r\n      instagram: \"instagra.com/sds\",\r\n      youtube: null,\r\n      github: \"github.com\",\r\n      mainLink: null\r\n    },\r\n    aboutMe: \"Like playing the guitar, learning math and programming. \",\r\n    lookingForAJob: true,\r\n    lookingForAJobDescription: \"Reactjs/native js or something related to those two\",\r\n  },\r\n  {\r\n    id: \"184760497\",\r\n    firstName: \"Vitaliy\",\r\n    lastName: \"Boom\",\r\n    fullName: \"Vitaliy Boom\",\r\n    photos: {\r\n      small: avatar2,\r\n      large: avatar2,\r\n    },\r\n    location: {\r\n      countryName: \"Russia\",\r\n      cityName: \"Moscow\"\r\n    },\r\n    followed: true,\r\n    status: 'Professionals have standarts.',\r\n    contacts: {\r\n      facebook: \"facebook.com\",\r\n      website: null,\r\n      vk: \"vk.com/\",\r\n      twitter: \"https://twitter.com/@sdf\",\r\n      instagram: \"instagra.com/sds\",\r\n      youtube: null,\r\n      github: \"github.com\",\r\n      mainLink: null\r\n    },\r\n    aboutMe: \"Traveling around the world with my family and enjoying my life!\",\r\n    lookingForAJob: false,\r\n    lookingForAJobDescription: null,\r\n  },\r\n  {\r\n    id: \"084926135\",\r\n    firstName: \"Ann\",\r\n    lastName: \"Melnik\",\r\n    fullName: \"Ann Melnik\",\r\n    photos: {\r\n      small: avatar3,\r\n      large: avatar3,\r\n    },\r\n    location: {\r\n      countryName: \"Great Britain\",\r\n      cityName: \"London\"\r\n    },\r\n    followed: true,\r\n    status: 'Does anyone what to hang out?',\r\n    contacts: {\r\n      facebook: \"facebook.com\",\r\n      website: null,\r\n      vk: \"vk.com/\",\r\n      twitter: \"https://twitter.com/@sdf\",\r\n      instagram: \"instagra.com/sds\",\r\n      youtube: null,\r\n      github: \"github.com\",\r\n      mainLink: null\r\n    },\r\n    aboutMe: \"I do like watching anime and drawing anime characters!\",\r\n    lookingForAJob: false,\r\n    lookingForAJobDescription: null,\r\n  },\r\n  {\r\n    id: \"987343516\",\r\n    firstName: \"Victoria\",\r\n    lastName: \"Kupisheva\",\r\n    fullName: \"Victoria Kupisheva\",\r\n    photos: {\r\n      small: avatar4,\r\n      large: avatar4,\r\n    },\r\n    location: {\r\n      countryName: \"Belarus\",\r\n      cityName: \"Minsk\"\r\n    },\r\n    followed: false,\r\n    status: 'I Am Not Arguing, I’M Simply Explaining Why I Am Right.',\r\n    contacts: {\r\n      facebook: \"facebook.com\",\r\n      website: null,\r\n      vk: \"vk.com/\",\r\n      twitter: \"https://twitter.com/@sdf\",\r\n      instagram: \"instagra.com/sds\",\r\n      youtube: null,\r\n      github: \"github.com\",\r\n      mainLink: null\r\n    },\r\n    aboutMe: \"If you want to know something about me, feel free to ask me :)\",\r\n    lookingForAJob: true,\r\n    lookingForAJobDescription: \"Wanna be a part of a big team!\",\r\n  },\r\n];\r\n\r\nexport default usersList;","import usersList from '../Data/usersList';\r\n\r\nconst SET_USERS = \"SET-USERS\";\r\nconst SET_USERS_TOTAL = \"SET-USERS-TOTAL\";\r\nconst SET_LOADING_STATUS = \"SET-LOADING-STATUS\";\r\nconst SET_FOLLOWING_PROGRESS_STATUS = \"SET-FOLLOWING-PROGRESS-STATUS\";\r\n\r\nconst TOGGLE_FOLLOW = \"TOGGLE-FOLLOW\";\r\n\r\nconst ADD_USERS = \"ADD-USERS\";\r\nconst SWITCH_PAGE = \"SWITCH-PAGE\";\r\nconst TO_FIRST_PAGE = \"TO-FIRST-PAGE\";\r\n\r\nlet initialState = { \r\n  usersList: usersList,\r\n  friendsShown: 4,\r\n  serverUsersList: [],\r\n  shownUsersNumber: 10,\r\n  usersTotal: 0,\r\n  currentPage: 1,\r\n  isLoading: false,\r\n  inFollowingProgress: [],\r\n  getName(id) {\r\n    const users = this.usersList;\r\n    const user = users.find(item => item.id === id);\r\n    return user.firstName;\r\n  },\r\n  getAvatar(id) {\r\n    const users = this.usersList;\r\n    const user = users.find(item => item.id === id);\r\n    return user.photos.large;\r\n  },\r\n  getFullName(id) {\r\n    const users = this.usersList;\r\n    const user = users.find(item => item.id === id);\r\n    return user.fullName;\r\n  },\r\n  getUser(id) {\r\n    const users = this.usersList;\r\n    const user = users.find(item => item.id === id);\r\n    return user;\r\n  },\r\n  getInfo(id) {\r\n    const users = this.usersList;\r\n    const user = users.find(item => item.id === id);\r\n    return {\r\n      status: user.status,\r\n      location: {...user.location},\r\n      contacts: { ...user.contacts},\r\n      aboutMe: user.aboutMe,\r\n      lookingForAJob: user.lookingForAJob,\r\n      lookingForAJobDescription: user.lookingForAJobDescription,\r\n    }\r\n  }\r\n}\r\n\r\nlet usersPageReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case TOGGLE_FOLLOW:\r\n      return {\r\n        ...state,\r\n        serverUsersList: state.serverUsersList.map(item => {\r\n          if (item.id === action.id) {\r\n            return { ...item, followed: !item.followed }\r\n          }\r\n          return item\r\n        })\r\n      }\r\n    case SET_USERS:\r\n      return {\r\n        ...state,\r\n        serverUsersList: action.users,\r\n      }\r\n    case ADD_USERS:\r\n      return {\r\n        ...state,\r\n        serverUsersList: [...state.serverUsersList]\r\n      }\r\n    case SET_USERS_TOTAL:\r\n      return {\r\n        ...state,\r\n        usersTotal: action.number,\r\n      }\r\n    case SWITCH_PAGE:\r\n      return {\r\n        ...state,\r\n        currentPage: action.number,\r\n      }\r\n    case TO_FIRST_PAGE:\r\n      return {\r\n        ...state,\r\n        currentPage: 1,\r\n      }\r\n    case SET_LOADING_STATUS: \r\n      return {\r\n        ...state,\r\n        isLoading: action.value,\r\n      }\r\n    case SET_FOLLOWING_PROGRESS_STATUS: \r\n      return {\r\n        ...state,\r\n        inFollowingProgress: action.value\r\n          ? [...state.inFollowingProgress, action.id]\r\n          : state.inFollowingProgress.filter(id => id !== action.id)\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default usersPageReducer;","const SET_LOGGED_STATUS = \"SET-LOGGED-STATUS\";\r\nconst SET_LOGGED_USER_DETAILS = \"SET-LOGGED-USER-DETAILS\";\r\nconst SET_LOGGIN_PROCESS_STATUS = \" SET-LOGGIN-PROCESS-STATUS\";\r\n\r\n\r\nconst initialState = {\r\n  isLoggedIn: false,\r\n  loginProcessStatus: false,\r\n  currentUserDetails: {\r\n    id: null,\r\n    login: null,\r\n    email: null,\r\n  }\r\n}\r\n\r\nlet authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_LOGGED_STATUS:\r\n      return {\r\n        ...state,\r\n        isLoggedIn: action.isLoggedIn,\r\n      }\r\n    case SET_LOGGED_USER_DETAILS:\r\n      return {\r\n        ...state,\r\n        currentUserDetails: action.data,\r\n      }\r\n    case SET_LOGGIN_PROCESS_STATUS: \r\n      return {\r\n        ...state,\r\n        loginProcessStatus: action.isInProcess,\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default authReducer;","const SET_INITIALIZATION_STATUS = \"SET-INITIALIZATION-STATUS\";\r\n\r\nconst initialState = {\r\n  isInitialized: false,\r\n}\r\n\r\nlet authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_INITIALIZATION_STATUS:\r\n      return {\r\n        ...state,\r\n        isInitialized: true,\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default authReducer;","import { createStore, combineReducers, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport navBarReducer from './reducers/navBarReducer';\r\nimport profilePageReducer from './reducers/profilePageReducer';\r\nimport messagesPageReducer from './reducers/messagesPageReducer';\r\nimport newsPageReducer from './reducers/newsPageReducer';\r\nimport musicPageReducer from './reducers/musicPageReducer';\r\nimport usersPageReducer from './reducers/usersPageReducer';\r\nimport authReducer from './reducers/authReducer';\r\nimport appReducer from './reducers/appReducer';\r\nimport { reducer as formReducer } from 'redux-form';\r\n\r\n\r\nlet reducers = combineReducers({\r\n  app: appReducer,\r\n  auth: authReducer,\r\n  navBar: navBarReducer,\r\n  profilePage: profilePageReducer,\r\n  messagesPage: messagesPageReducer,\r\n  usersPage: usersPageReducer,\r\n  newsPage: newsPageReducer,\r\n  musicPage: musicPageReducer,\r\n  form: formReducer,\r\n});\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunk));\r\n\r\nexport default store;","import React from 'react';\r\nimport styles from './logbutton.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst LogButton = (props) => {\r\n  return (\r\n    <NavLink to={props.to || ''}>\r\n      <button\r\n        className={styles.button + ' ' + props.additionalClass}\r\n        onClick={props.onClick}\r\n      >\r\n        {props.buttonName}\r\n      </button>\r\n    </NavLink>\r\n  )\r\n}\r\n\r\nexport default LogButton;","import React from 'react';\r\nimport styles from './header.module.css';\r\nimport LogButton from '../common/LogButton/LogButton';\r\n\r\nconst HeaderSignOut = (props) => {\r\n  return (\r\n    <div>\r\n      <span className={styles.username}>\r\n        {props.name}\r\n      </span>\r\n      <LogButton\r\n        buttonName=\"Sign out\"\r\n        to='/login'\r\n        additionalClass={styles.button}\r\n        onClick={props.onClick}\r\n      />\r\n    </div>\r\n  )\r\n}\r\nconst HeaderSignIn = () => {\r\n  return (\r\n    <LogButton\r\n      buttonName=\"Sign in\"\r\n      to='/login'\r\n      additionalClass={styles.button}\r\n    />\r\n  )\r\n}\r\n\r\nconst Header = (props) => {\r\n  return (\r\n    <header className={styles.header}>\r\n      <div className={styles.title}>\r\n        <a href='/profile' className={styles.logo}></a>\r\n        <a href='/profile' className={styles.name}>Socia.L</a>\r\n      </div>\r\n      {(props.isLoggedIn && props.userDetails)\r\n        ? <HeaderSignOut\r\n            onClick={props.logout}\r\n            name={props.userDetails.login || ''}\r\n          />\r\n        : <HeaderSignIn/>}\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;","const ADD_POST = \"ADD-POST\";\r\nconst SEND_MESSAGE = \"SEND-MESSAGE\";\r\nconst TOGGLE_FOLLOW = \"TOGGLE-FOLLOW\";\r\nconst SET_USERS = \"SET-USERS\";\r\nconst ADD_USERS = \"ADD-USERS\";\r\nconst SET_USERS_TOTAL = \"SET-USERS-TOTAL\";\r\nconst SWITCH_PAGE = \"SWITCH-PAGE\";\r\nconst TO_FIRST_PAGE = \"TO-FIRST-PAGE\";\r\nconst SET_LOADING_STATUS = \"SET-LOADING-STATUS\";\r\nconst SET_CURRENT_DIALOG_ID = \"SET-CURRENT-DIALOG-ID\";\r\nconst SET_CURRENT_USER = \"SET-CURRENT-USER\";\r\nconst SET_CURRENT_USER_INFO = \"SET-CURRENT-USER-INFO\";\r\nconst SET_LOGGED_STATUS = \"SET-LOGGED-STATUS\";\r\nconst SET_LOGGED_USER_DETAILS = \"SET-LOGGED-USER-DETAILS\";\r\nconst SET_FOLLOWING_PROGRESS_STATUS = \"SET-FOLLOWING-PROGRESS-STATUS\";\r\nconst SET_CURRENT_USER_STATUS = \"SET-CURRENT-USER-STATUS\";\r\nconst SET_LOGGIN_PROCESS_STATUS = \" SET-LOGGIN-PROCESS-STATUS\";\r\nconst SET_INITIALIZATION_STATUS = \"SET-INITIALIZATION-STATUS\";\r\nconst SET_CURRENT_USER_PHOTOS = \"SET-CURRENT-USER-PHOTOS\";\r\nconst SET_IS_PHOTO_UPLOADING = \"SET-IS-PHOTO-UPLOADING\";\r\n\r\n\r\nexport const addPost = (postText) => {\r\n  return {\r\n    type: ADD_POST,\r\n    postText,\r\n  }\r\n}\r\nexport const sendMessage = (message) => {\r\n  return {\r\n    type: SEND_MESSAGE,\r\n    message,\r\n  }\r\n}\r\nexport const toggleFollow = (id) => {\r\n  return {\r\n    type: TOGGLE_FOLLOW,\r\n    id,\r\n  }\r\n}\r\nexport const setUsers = (users) => {\r\n  return {\r\n    type: SET_USERS,\r\n    users,\r\n  }\r\n}\r\nexport const addUsers = (users) => {\r\n  return {\r\n    type: ADD_USERS,\r\n    users,\r\n  }\r\n}\r\nexport const setUsersTotal = (number) => {\r\n  return {\r\n    type: SET_USERS_TOTAL,\r\n    number,\r\n  }\r\n}\r\nexport const switchPage = (number) => {\r\n  return {\r\n    type: SWITCH_PAGE,\r\n    number,\r\n  }\r\n}\r\nexport const toFirstPage = () => {\r\n  return {\r\n    type: TO_FIRST_PAGE,\r\n  }\r\n}\r\nexport const setLoadingStatus = (value) => {\r\n  return {\r\n    type: SET_LOADING_STATUS,\r\n    value,\r\n  }\r\n}\r\nexport const setCurrentDialogId = (id) => {\r\n  return {\r\n    type: SET_CURRENT_DIALOG_ID,\r\n    id,\r\n  }\r\n}\r\nexport const setCurrentUser = (id) => {\r\n  return {\r\n    type: SET_CURRENT_USER,\r\n    id,\r\n  }\r\n}\r\nexport const setCurrentUserInfo = (user) => {\r\n  return {\r\n    type: SET_CURRENT_USER_INFO,\r\n    user,\r\n  }\r\n}\r\nexport const setLoggedStatus = (isLoggedIn) => {\r\n  return {\r\n    type: SET_LOGGED_STATUS,\r\n    isLoggedIn,\r\n  }\r\n}\r\nexport const setLoginProcessStatus = (isInProcess) => {\r\n  return {\r\n    type: SET_LOGGIN_PROCESS_STATUS,\r\n    isInProcess,\r\n  }\r\n}\r\nexport const setLoggedUserDetails = (data) => {\r\n  return {\r\n    type: SET_LOGGED_USER_DETAILS,\r\n    data,\r\n  }\r\n}\r\nexport const setFollowingProgressStatus = (id, value) => {\r\n  return {\r\n    type: SET_FOLLOWING_PROGRESS_STATUS,\r\n    id,\r\n    value,\r\n  }\r\n}\r\nexport const setCurrentUserStatus = (status) => {\r\n  return {\r\n    type: SET_CURRENT_USER_STATUS,\r\n    status,\r\n  }\r\n}\r\nexport const setCurrentUserPhotos = (photos) => {\r\n  return {\r\n    type: SET_CURRENT_USER_PHOTOS,\r\n    photos,\r\n  }\r\n}\r\nexport const setIsPhotoUploading = (isUploading) => {\r\n  return {\r\n    type: SET_IS_PHOTO_UPLOADING,\r\n    isUploading,\r\n  }\r\n}\r\n\r\nexport const setInitializationStatus = () => {\r\n  return {\r\n    type: SET_INITIALIZATION_STATUS,\r\n  }\r\n}","import * as axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n  withCredentials: true,\r\n  headers: {\r\n    \"API-KEY\": \"83ee89dc-1391-4de4-9c05-ed1d5e1459ce\",\r\n  },\r\n})\r\n\r\nexport const usersAPI = {\r\n  getUsers(count, page) {\r\n    return (\r\n      instance.get(`users?count=${count}&page=${page}`)\r\n        .then(response => response.data)\r\n    )\r\n  },\r\n  getProfile(id) {\r\n    return (\r\n      instance.get(`profile/${id}`)\r\n        .then(response => response.data)\r\n    )\r\n  },\r\n  getStatus(id) {\r\n    return (\r\n      instance.get(`profile/status/${id}`)\r\n    )\r\n  },\r\n  updateStatus(status) {\r\n    return (\r\n      instance.put(`profile/status`, { status: status })\r\n    )\r\n  },\r\n  uploadPhoto(photo) {\r\n    const formData = new FormData();\r\n    formData.append(\"image\", photo);\r\n\r\n    return (\r\n       instance.put(`profile/photo`, formData)\r\n    )\r\n  }\r\n}\r\n\r\nexport const authAPI = {\r\n  login(userInfo) {\r\n    return (\r\n      instance.post(`auth/login`, {\r\n        ...userInfo\r\n      })\r\n    )\r\n  },\r\n  logout() {\r\n    return (\r\n      instance.delete(`auth/login`)\r\n    )\r\n  },\r\n  isAuth() {\r\n    return (\r\n      instance.get(`auth/me`)\r\n      .then(response => response.data)\r\n    )\r\n  },\r\n}\r\n\r\nexport const followAPI = {\r\n  follow(id) {\r\n    return (\r\n      instance.post(`follow/${id}`)\r\n        .then(response => response.data)\r\n    )\r\n  },\r\n  unfollow(id) {\r\n    return (\r\n      instance.delete(`follow/${id}`)\r\n      .then(response => response.data)\r\n    )\r\n  },\r\n}","import * as actionCreators from './actionCreators';\r\nimport { followAPI, usersAPI, authAPI } from '../api/api';\r\nimport { stopSubmit } from 'redux-form';\r\n\r\nexport const toggleFollow = (isFollowed, id) => {\r\n  return async (dispatch) => {\r\n    dispatch(actionCreators.setFollowingProgressStatus(id, true));\r\n\r\n    let data = isFollowed\r\n      ? await followAPI.unfollow(id)\r\n      : await followAPI.follow(id)\r\n\r\n    if (data.resultCode === 0) {\r\n      dispatch(actionCreators.toggleFollow(id));\r\n      dispatch(actionCreators.setFollowingProgressStatus(id, false));\r\n    }\r\n  }\r\n}\r\n\r\nexport const changePage = (pageNumber, usersNumberToShow) => {\r\n  return async (dispatch) => {\r\n    dispatch(actionCreators.switchPage(pageNumber));\r\n    dispatch(actionCreators.setLoadingStatus(true));\r\n\r\n    let data = await usersAPI.getUsers(usersNumberToShow, pageNumber)\r\n    dispatch(actionCreators.setUsers(data.items));\r\n    dispatch(actionCreators.setLoadingStatus(false));\r\n  }\r\n}\r\n\r\nexport const getUsers = (numberToShow) => {\r\n  return async (dispatch) => {\r\n    dispatch(actionCreators.setLoadingStatus(true));\r\n    dispatch(actionCreators.toFirstPage());\r\n\r\n    let data = await usersAPI.getUsers(numberToShow, 1);\r\n\r\n    dispatch(actionCreators.setUsersTotal(data.totalCount));\r\n    dispatch(actionCreators.setUsers(data.items));\r\n    dispatch(actionCreators.setLoadingStatus(false));\r\n  }\r\n}\r\n\r\nexport const authUser = () => async (dispatch) => {\r\n  let data = await authAPI.isAuth();\r\n\r\n  if (data.resultCode === 0) {\r\n    dispatch(actionCreators.setLoggedStatus(true));\r\n    dispatch(actionCreators.setCurrentUser(data.data.id));\r\n    dispatch(actionCreators.setLoggedUserDetails(data.data));\r\n  }\r\n}\r\n\r\nexport const getUserProfile = (userId, currentUserId) => {\r\n  return async (dispatch) => {\r\n    let userToShow = userId || currentUserId;\r\n    dispatch(actionCreators.setLoadingStatus(true));\r\n\r\n    if (!userToShow) {\r\n      let data = await authAPI.isAuth();\r\n      if (data.resultCode === 0) {\r\n        userToShow = data.data.id;\r\n      }\r\n    }\r\n\r\n    let response = await usersAPI.getProfile(userToShow);\r\n    dispatch(actionCreators.setCurrentUserInfo(response));\r\n    dispatch(actionCreators.setLoadingStatus(false));\r\n  }\r\n}\r\n\r\nexport const getCurrentUserStatus = (userId, currentUserId) => {\r\n  return async (dispatch) => {\r\n    let user = userId || currentUserId;\r\n\r\n    if (!user) {\r\n      let data = await authAPI.isAuth()\r\n      if (data.resultCode === 0) {\r\n        user = data.data.id;\r\n      }\r\n    }\r\n    \r\n    let response = await usersAPI.getStatus(user)\r\n    dispatch(actionCreators.setCurrentUserStatus(response.data));\r\n  }\r\n}\r\n\r\nexport const updateCurrentUserStatus = (status) => {\r\n  return async (dispatch) => {\r\n    let response = await usersAPI.updateStatus(status);\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(actionCreators.setCurrentUserStatus(status));\r\n    }\r\n  }\r\n} \r\n\r\nexport const loginUser = (loginInfo) => {\r\n  return async (dispatch) => {\r\n    dispatch(actionCreators.setLoginProcessStatus(true));\r\n    let response = await authAPI.login(loginInfo);\r\n\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(authUser());\r\n    } else {\r\n      dispatch(stopSubmit(\"loginForm\", {_error: response.data.messages[0]}));\r\n    }\r\n\r\n    dispatch(actionCreators.setLoginProcessStatus(false));\r\n  }\r\n}\r\n\r\nexport const logoutUser = () => {\r\n  return async (dispatch) => {\r\n    let response = await authAPI.logout();\r\n\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(actionCreators.setCurrentUser(null));\r\n      dispatch(actionCreators.setLoggedStatus(false));\r\n      dispatch(actionCreators.setLoggedUserDetails(null));\r\n    }\r\n  }\r\n}\r\n\r\nexport const uploadPhoto = (photo) => {\r\n  return async (dispatch) => {\r\n    dispatch(actionCreators.setIsPhotoUploading(true));\r\n    const response = await usersAPI.uploadPhoto(photo);\r\n\r\n    if (response.resultCode === 0) {\r\n      dispatch(actionCreators.setCurrentUserPhotos(response.data));\r\n    }\r\n\r\n    dispatch(actionCreators.setIsPhotoUploading(false));\r\n  }\r\n}\r\n\r\nexport const initializeApp = () => {\r\n  return (dispatch) => {\r\n    const authPromise = dispatch(authUser());\r\n\r\n    Promise.all([authPromise]).then(() => {\r\n      dispatch(actionCreators.setInitializationStatus());\r\n    })\r\n  }\r\n}","// auth reducer\r\nexport const getIsLoggedIn = (state) => state.auth.isLoggedIn;\r\nexport const getCurrentUserDetails = (state) => state.auth.currentUserDetails;\r\nexport const getLoginProcessStatus = (state) => state.auth.loginProcessStatus;\r\n\r\n// app reducer\r\nexport const getIsInitialized = (state) => state.app.isInitialized;\r\n\r\n// navBar reducer\r\nexport const getFriendsList = (state) => state.navBar.friends;\r\n\r\n// usersPage reducer\r\nexport const getNameGetter = (state) => (id) => state.usersPage.getName(id);\r\nexport const getAvatarGetter = (state) => (id) => state.usersPage.getAvatar(id);\r\nexport const getServerUsersList = (state) => state.usersPage.serverUsersList;\r\nexport const getShownUsersNumber = (state) => state.usersPage.shownUsersNumber;\r\nexport const getUsersTotal = (state) => state.usersPage.usersTotal;\r\nexport const getCurrentPage = (state) => state.usersPage.currentPage;\r\nexport const getInFollowingProgress = (state) => state.usersPage.inFollowingProgress;\r\nexport const getIsLoading = (state) => state.usersPage.isLoading;\r\n\r\n// profilePage reducer \r\nexport const getAuthorizedUser = (state) => state.profilePage.authorizedUser;\r\nexport const getShownUser = (state) => state.profilePage.shownUser;\r\nexport const getLoggedUser = (state) => state.profilePage.loggedUser;\r\nexport const getCurrentUserInfo = (state) => state.profilePage.currentUserInfo;\r\nexport const getCurrentUserStatus = (state) => state.profilePage.currentUserStatus;\r\nexport const getPostsList = (state) => state.profilePage.postsList;\r\nexport const getIsPhotoUploading = (state) => state.profilePage.isPhotoUploading;\r\n\r\n// messagesPage reducer\r\nexport const getCurrentDialogId = (state) => state.messagesPage.currentDialog;\r\nexport const getUsersDialogs = (state) => state.messagesPage.usersDialogs;\r\nexport const getDialogGetter = (state) => (id) => state.messagesPage.getDialog(id);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport Header from './Header';\r\nimport { logoutUser } from '../../redux/thunkCreators';\r\nimport * as selectors from '../../redux/selectors';\r\n\r\nclass HeaderContainer extends Component {\r\n  logout = () => {\r\n    this.props.logoutUser();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Header\r\n        logout={this.logout}\r\n        isLoggedIn={this.props.isLoggedIn}\r\n        userDetails={this.props.userDetails}\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isLoggedIn: selectors.getIsLoggedIn(state),\r\n    userDetails: selectors.getCurrentUserDetails(state),\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, { logoutUser })\r\n)(HeaderContainer);","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport styles from './navitem.module.css';\r\n\r\nconst NavItem = (props) => {\r\n  return (\r\n    <li className={styles.item}>\r\n      <NavLink\r\n        to={props.to}\r\n        className={styles.itemLink}\r\n        activeClassName={styles.active}\r\n      >\r\n        {props.linkname}\r\n      </NavLink>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default NavItem;","import React from 'react';\r\nimport styles from './frienditem.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst FriendItem = (props) => {\r\n  return (\r\n    <NavLink to=\"/profile\" className={styles.item}>\r\n      <div className={styles.avatar}>\r\n        <img src={props.image} alt='img'/>\r\n      </div>\r\n      <div className={styles.name}>\r\n        {props.name}\r\n      </div>\r\n    </NavLink>\r\n  )\r\n}\r\n\r\nexport default FriendItem;","import React from 'react';\r\nimport styles from './friendsbar.module.css';\r\nimport FriendItem from './FriendItem/FriendItem';\r\n\r\nconst FriendsBar = (props) => {\r\n  const friendsList = props.friendsList;\r\n  const getName = (id) => props.getName(id);\r\n  const getAvatar = (id) => props.getAvatar(id);\r\n\r\n  return (\r\n    <div className={styles.friendsBar}>\r\n      <h3 className={styles.title}>Friends</h3>\r\n      <div className={styles.items}>\r\n        {\r\n          friendsList.map(item => (\r\n            <FriendItem\r\n              key={item.userId}\r\n              name={getName(item.userId)}\r\n              image={getAvatar(item.userId)}\r\n            />\r\n          ))\r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default FriendsBar","import { connect } from 'react-redux';\r\nimport FriendsBar from './FriendsBar';\r\nimport * as selectors from '../../../redux/selectors';\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    friendsList: selectors.getFriendsList(state),\r\n    getName: selectors.getNameGetter(state),\r\n    getAvatar: selectors.getAvatarGetter(state),\r\n  }\r\n}\r\n\r\nconst FriendsBarContainer = connect(mapStateToProps)(FriendsBar);\r\n\r\nexport default FriendsBarContainer;","import React from 'react';\r\nimport styles from './nav.module.css';\r\nimport NavItem from './NavItem/NavItem';\r\nimport FriendsBarContainer from './FriendsBar/FriendsBarContainer';\r\n\r\nconst Nav = () => {\r\n  return (\r\n    <nav className={styles.nav}>\r\n      <ul className={styles.list}>\r\n        <NavItem to=\"/profile\" linkname=\"Profile\" />\r\n        <NavItem to=\"/dialogs\" linkname=\"Messages\" />\r\n        <NavItem to=\"/users\" linkname=\"Users\" />\r\n        <NavItem to=\"/news\" linkname=\"News\" />\r\n        <NavItem to=\"/music\" linkname=\"Music\" />\r\n        <NavItem to=\"/settings\" linkname=\"Settings\" />\r\n      </ul>\r\n      <FriendsBarContainer />\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default Nav;","import React from 'react';\r\nimport styles from './button.module.css';\r\n\r\nconst Button = (props) => {\r\n  return (\r\n    <button\r\n      type={props.type}\r\n      onClick={props.onClick}\r\n      className={`${styles.createButton} ${props.addClass}`}\r\n      disabled={props.disabled}\r\n    >\r\n      {props.buttonName}\r\n    </button>\r\n  )\r\n}\r\n\r\nexport default Button;","import React from 'react';\r\nimport styles from './separator.module.css';\r\n\r\nconst Separator = () => {\r\n  return (\r\n    <div className={styles.separator}>\r\n      <div className={styles.line} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Separator;","import React from 'react';\r\nimport styles from './controlledforms.module.css';\r\n\r\nexport const ControlledInput = ({ input, meta, ...props }) => {\r\n  \r\n  const hasError = (meta.error && meta.touched);\r\n  const errorMessage = hasError ? `${meta.error}` : '';\r\n  \r\n  return (\r\n    <div className={styles.inputItem}>\r\n      <label\r\n        className={styles.inputLabel + (hasError ? ' ' + styles.errorLabel : '')}\r\n        htmlFor={props.id}\r\n      >\r\n        {props.label}\r\n\r\n      </label>\r\n      <input\r\n        {...input}\r\n        className={styles.input + (hasError ? ' ' + styles.errorInput : '')}\r\n        placeholder={props.placeholder}\r\n        name={props.name}\r\n        id={props.id}\r\n        type={props.type}\r\n      />\r\n      <div className={styles.errorMessage}>\r\n        {errorMessage}\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React from 'react';\r\nimport styles from './loginform.module.css';\r\nimport { Field } from 'redux-form';\r\nimport Button from '../../../common/Button/Button';\r\nimport Separator from '../../../common/Separator/Separator';\r\nimport { ControlledInput } from '../../../../forms/controlledForms';\r\nimport { required, minLength, emailContains } from '../../../../forms/validation';\r\n\r\nconst minLength8 = minLength(8);\r\nconst requiredPass = required(\"password\");\r\nconst requiredEmail = required(\"email\");\r\n\r\nconst LoginForm = (props) => {\r\n  return (\r\n    <form className={styles.loginForm} onSubmit={props.handleSubmit}>\r\n      <h2 className={styles.title}>Login</h2>\r\n      <Separator />\r\n      <div className={styles.formError}>\r\n        {props.error ? props.error + '!' : ''}\r\n      </div>\r\n      <Field\r\n        placeholder=\"Enter your email\"\r\n        component={ControlledInput}\r\n        name=\"email\"\r\n        label=\"Email\"\r\n        id=\"email\"\r\n        type=\"text\"\r\n        validate={[requiredEmail, emailContains]}\r\n      />\r\n      <Field\r\n        placeholder=\"Enter your password\"\r\n        component={ControlledInput}\r\n        name=\"password\"\r\n        label=\"Password\"\r\n        id=\"password\"\r\n        type=\"password\"\r\n        validate={[requiredPass, minLength8]}\r\n      />\r\n      <div className={styles.rememberMe}>\r\n        <Field\r\n          className={styles.input}\r\n          name=\"rememberMe\"\r\n          id=\"rememberMe\"\r\n          component=\"input\"\r\n          type=\"checkBox\"\r\n        />\r\n        \r\n        <label\r\n          className={styles.inputLabel}\r\n          htmlFor=\"rememberMe\"\r\n        >\r\n          Remember Me\r\n        </label>\r\n      </div>\r\n\r\n      <Button\r\n        type=\"submit\"\r\n        addClass={styles.submitButton}\r\n        buttonName=\"Submit\"\r\n        disabled={props.inSubmit}\r\n      />\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default LoginForm;\r\n","import React from 'react';\r\nimport styles from './loginpage.module.css';\r\nimport { reduxForm } from 'redux-form';\r\nimport LoginForm from './LoginForm/LoginForm';\r\n\r\nconst LoginReduxForm = reduxForm({ form: 'loginForm' })(LoginForm);\r\n\r\nconst LoginPage = (props) => {\r\n  const onSubmit = (formData) => {\r\n    props.loginUser(formData);\r\n    props.reset('loginForm');\r\n  }\r\n\r\n  return (\r\n    <div className={styles.loginPage}>\r\n      <LoginReduxForm\r\n        onSubmit={onSubmit}\r\n        inSubmit={props.inSubmit}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default LoginPage;","import React, { Component }  from 'react';\r\nimport { compose } from \"redux\";\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from \"react-redux\";\r\nimport { reset } from 'redux-form';\r\nimport LoginPage from \"./LoginPage\";\r\nimport { loginUser } from \"../../../redux/thunkCreators\"\r\nimport * as selectors from '../../../redux/selectors';\r\n\r\nclass LoginPageContainer extends Component {\r\n  render() {\r\n    if (this.props.isLoggedIn) {\r\n      return <Redirect to='/profile' />\r\n    }\r\n    return (\r\n      <LoginPage\r\n        reset={this.props.reset}\r\n        loginUser={this.props.loginUser}\r\n        inSubmit={this.props.loginProcessStatus}\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isLoggedIn: selectors.getIsLoggedIn(state),\r\n    loginProcessStatus: selectors.getLoginProcessStatus(state),\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {loginUser, reset})\r\n)(LoginPageContainer)","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport * as selectors from '../../redux/selectors';\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n  class ContainerComponent extends React.Component {\r\n    render() {\r\n      if (!this.props.isLoggedIn) {\r\n        return <Redirect to='/login' />\r\n      }\r\n      return <Component {...this.props} />\r\n    }\r\n  }\r\n  const mapStateToProps = (state) => ({isLoggedIn: selectors.getIsLoggedIn(state)})\r\n  \r\n  return connect(mapStateToProps)(ContainerComponent)\r\n}","import React from 'react';\r\nimport styles from './infoitem.module.css';\r\n\r\nconst InfoItem = (props) => {\r\n  return (\r\n    <li className={styles.item}>\r\n      {props.info}\r\n      <span className={styles.data}>\r\n        {props.data}\r\n      </span>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default InfoItem;","import React from 'react';\r\nimport styles from './profileinfo.module.css';\r\nimport InfoItem from '../../../../common/InfoItem/InfoItem';\r\n\r\nconst checkIfGiven = data => data || 'no information given';\r\n\r\nconst ProfileInfo = (props) => {\r\n  const location = props.info.location\r\n    ? `${props.info.location.cityName}, ${props.info.location.countryName}`\r\n    : 'no information given';\r\n  \r\n  return (\r\n    <ul className={styles.infoList}>\r\n      <InfoItem\r\n        info='About me:'\r\n        data={checkIfGiven(props.info.aboutMe)}\r\n      />\r\n      <InfoItem\r\n        info='Location: '\r\n        data={location}\r\n      />\r\n      <InfoItem\r\n        info='Website: '\r\n        data={checkIfGiven(props.info.contacts.website)}\r\n      />\r\n      <InfoItem\r\n        info='VK: '\r\n        data={checkIfGiven(props.info.contacts.vk)}\r\n      />\r\n      <InfoItem\r\n        info='Twitter: '\r\n        data={checkIfGiven(props.info.contacts.twitter)}\r\n      />\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport styles from './preloader.module.css';\r\n\r\nconst Preloader = (props) => {\r\n  return (\r\n    <div className={`${styles.loaderContainer} ${props.extraClass}`}>\r\n      <div className={styles.loader}>\r\n        <div></div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Preloader;","import React, {useRef, useEffect} from 'react';\r\nimport styles from './statusedit.module.css';\r\nimport Button from '../../../../../common/Button/Button';\r\n\r\nconst StatusEdit = (props) => {\r\n  const statusDiv = useRef(null);\r\n\r\n  const changeInputValue = (e) => {\r\n    props.onChange(e.currentTarget.value);\r\n  }\r\n\r\n  const handleClickAway = (e) => {\r\n    if (!statusDiv.current.contains(e.target)) {\r\n      props.onClickAway();\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('click', handleClickAway);\r\n    return () => {\r\n      window.removeEventListener('click', handleClickAway)\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <div\r\n      className={styles.statusEdit}\r\n      ref={statusDiv}\r\n    >\r\n      <input\r\n        maxLength=\"50\"\r\n        className={styles.statusInput}\r\n        placeholder=\"What's new?\"\r\n        type='text'\r\n        value={props.status}\r\n        autoFocus={true}\r\n        onChange={changeInputValue}\r\n      />\r\n      <Button\r\n        onClick={props.onClick}\r\n        buttonName=\"Save\"\r\n        addClass={styles.button}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default StatusEdit;","import React, {useState, useEffect} from 'react';\r\nimport styles from './profilestatus.module.css';\r\nimport StatusEdit from './StatusEdit/StatusEdit';\r\n\r\nconst ProfileStatus = (props) => {\r\n  let [editMode, setEditMode] = useState(false);\r\n  let [currentStatus, setCurrentStatus] = useState(props.status);\r\n\r\n  useEffect(() => {\r\n    setCurrentStatus(props.status);\r\n  }, [props.status])\r\n\r\n  const toggleEditMode = () => {\r\n    if (props.isOwner) {\r\n      if (editMode) {\r\n        props.updateStatus(currentStatus);\r\n      }\r\n      setEditMode(prev => !prev);\r\n    }\r\n  }\r\n  const undoStatusChanges = () => {\r\n    setCurrentStatus(props.status);\r\n    setEditMode(false);\r\n  }\r\n\r\n  return (\r\n    <div className={styles.statusBox} >\r\n      {editMode\r\n        ?\r\n        <StatusEdit\r\n          status={currentStatus}\r\n          onClickAway={undoStatusChanges}\r\n          onClick={toggleEditMode}\r\n          onChange={(value) => setCurrentStatus(value)}\r\n        />\r\n        :\r\n        <div className={styles.status} onClick={toggleEditMode}>\r\n          <p className={styles.statusText}>\r\n            {props.status || 'This user has no status yet...'}\r\n          </p>\r\n        </div>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProfileStatus;","import React from 'react';\r\nimport styles from './profile.module.css';\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\nimport Preloader from '../../../common/Preloader/Preloader';\r\nimport UserDefault from '../../../../assets/images/UserDefault.png'\r\nimport ProfileStatus from './ProfileStatus/ProfileStatus';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Profile = (props) => {\r\n  const info = props.currentUserInfo;\r\n  const isOwner = props.authorizedUser === props.shownUser;\r\n\r\n  if (!info || props.isLoading) {\r\n    return (\r\n      <Preloader extraClass={styles.preloader}/>\r\n    )\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <div className={styles.profile}>\r\n      <div className={styles.avatar} href=\"/\">\r\n        <img\r\n          src={info.photos.large || UserDefault}\r\n          className=\"avatar\"\r\n          alt='avatar'\r\n        />\r\n        {isOwner &&\r\n          <NavLink to='/settings'>\r\n            <div className={styles.updateProfile}>\r\n              Update profile\r\n            </div>\r\n          </NavLink>\r\n        }\r\n      </div>\r\n      <div className={styles.details}>\r\n        <h3 className={styles.userName}>\r\n          {info.fullName}\r\n        </h3>\r\n        <ProfileStatus\r\n          isOwner={isOwner}\r\n          status={props.currentUserStatus}\r\n          updateStatus={props.updateCurrentUserStatus}\r\n        />\r\n        <ProfileInfo info={info}/>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Profile;","import React, { Component }  from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Profile from './Profile';\r\nimport { compose } from 'redux';\r\nimport { getUserProfile, getCurrentUserStatus, updateCurrentUserStatus, authUser, }\r\n  from '../../../../redux/thunkCreators';\r\nimport * as selectors from '../../../../redux/selectors';\r\n\r\n\r\nclass ProfileContainer extends Component {\r\n  componentDidMount() {\r\n    const urlId = this.props.match.params.userId;\r\n    this.props.getUserProfile(urlId, this.props.authorizedUser);\r\n    this.props.getCurrentUserStatus(urlId || this.props.authorizedUser);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const urlId = this.props.match.params.userId;\r\n    if (prevProps.match.params.userId !== urlId && !urlId) {\r\n      this.props.getUserProfile(null, this.props.authorizedUser);\r\n      this.props.getCurrentUserStatus(this.props.authorizedUser);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Profile\r\n        {...this.props}\r\n        shownUser={this.props.shownUser}\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    authorizedUser: selectors.getAuthorizedUser(state),\r\n    shownUser: selectors.getShownUser(state),\r\n    currentUserInfo: selectors.getCurrentUserInfo(state),\r\n    currentUserStatus: selectors.getCurrentUserStatus(state),\r\n    isLoading: selectors.getIsLoading(state),\r\n  }\r\n}\r\nconst actionCreators = {\r\n  getUserProfile,\r\n  getCurrentUserStatus,\r\n  updateCurrentUserStatus,\r\n  authUser,\r\n}\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, actionCreators),\r\n  withRouter\r\n)(ProfileContainer);","import React from 'react';\r\nimport styles from './postcreate.module.css';\r\nimport Button from '../../../../common/Button/Button';\r\nimport { Field } from 'redux-form';\r\n\r\nconst PostForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <Field\r\n        placeholder='Share what you want...'\r\n        name='postText'\r\n        className={styles.newText}\r\n        component='textarea'\r\n      />\r\n      <Button\r\n        addClass={styles.button}\r\n        buttonName='Post'\r\n      />\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default PostForm;","import React from 'react';\r\nimport styles from './postcreate.module.css';\r\nimport { reduxForm } from 'redux-form';\r\nimport PostForm from './PostForm';\r\n\r\nconst AddPostForm = reduxForm({ form: 'addPostForm' })(PostForm);\r\n\r\nconst PostCreate = (props) => {\r\n  const addNewPost = (formData) => {\r\n    props.addPost(formData.postText);\r\n    props.reset('addPostForm');\r\n  }\r\n\r\n  return (\r\n    <div className={styles.createPost}>\r\n      <h2 className={styles.title}>What's new?</h2>\r\n      <AddPostForm onSubmit={addNewPost}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PostCreate;","import { connect } from 'react-redux';\r\nimport PostCreate from './PostCreate';\r\nimport { addPost } from '../../../../../redux/actionCreators';\r\nimport { reset } from 'redux-form';\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {}\r\n}\r\n\r\nexport default connect(mapStateToProps, { addPost, reset })(PostCreate);","import React from 'react';\r\nimport styles from './postitem.module.css';\r\n\r\nconst PostItem = (props) => {\r\n  return (\r\n    <div className={styles.postItem}>\r\n      <div className={styles.author}>\r\n        <div className={styles.authorAvatar}>\r\n          <img className=\"avatar\" src={props.authorAvatar} alt=\"user avatar\" />\r\n        </div>\r\n        <div className={styles.details}>\r\n          <h3 className={styles.name}>\r\n            {props.authorName}\r\n          </h3>\r\n          <p className={styles.time}>\r\n            {props.time}\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <div className={styles.body}>\r\n        <p>{props.text}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostItem;","import React from \"react\";\r\nimport styles from \"./postlist.module.css\";\r\nimport PostItem from \"./PostItem/PostItem\";\r\n\r\nconst PostList = (props) => {\r\n  const posts = [...props.posts].reverse();\r\n  const postsList = posts.map((post) => (\r\n    <PostItem\r\n      key={post.postId}\r\n      authorName={props.getName(post.authorId)}\r\n      authorAvatar={props.getAvatar(post.authorId)}\r\n      time={post.time}\r\n      text={post.text}\r\n    />\r\n  ));\r\n  \r\n  return (\r\n    <div className={styles.posts}>\r\n      <h2 className={styles.title}>current posts</h2>\r\n      {postsList}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PostList;\r\n","import { connect } from \"react-redux\";\r\nimport PostList from \"./PostList\";\r\nimport * as selectors from \"../../../../../redux/selectors\";\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    posts: selectors.getPostsList(state),\r\n    getName: selectors.getNameGetter(state),\r\n    getAvatar: selectors.getAvatarGetter(state),\r\n  }\r\n}\r\n\r\nconst PostListContainer = connect(mapStateToProps)(PostList);\r\n\r\nexport default PostListContainer;","import React from 'react';\r\nimport ProfileContainer from './Profile/ProfileContainer';\r\nimport PostCreateContainer from './Posts/PostCreate/PostCreateContainer'\r\nimport PostListContainer from './Posts/PostList/PostListContainer';\r\nimport Separator from '../../common/Separator/Separator';\r\n\r\nconst ProfilePage = (props) => {\r\n  return (\r\n    <div className=\"profilepage\">\r\n      <ProfileContainer />\r\n      <Separator />\r\n      <PostCreateContainer />  \r\n      <PostListContainer />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProfilePage;","import { compose } from 'redux';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { withScrollToTopOnLoad } from '../../hoc/withScrollToTopOnLoad';\r\nimport  ProfilePage from './ProfilePage';\r\n\r\nexport default compose(\r\n  withAuthRedirect,\r\n  withScrollToTopOnLoad\r\n)(ProfilePage)","import React from 'react';\r\n\r\nexport const withScrollToTopOnLoad = (Component) => {\r\n  class ContainerComponent extends React.Component {\r\n    componentDidMount() {\r\n      window.scrollTo(0, 0);\r\n    }\r\n    render() {\r\n      return <Component {...this.props} />\r\n    }\r\n  }\r\n  return ContainerComponent;\r\n}","import React from 'react';\r\nimport styles from './music.module.css';\r\n\r\nconst Music = () => {\r\n  return (\r\n    <div className={styles.music}>\r\n      Music\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Music;","import React from 'react';\r\nimport styles from './news.module.css';\r\n\r\nconst News = () => {\r\n  return (\r\n    <div className={styles.news}>\r\n      News\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default News;","import React from 'react';\r\nimport styles from './useravatar.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst UserAvatar = (props) => {\r\n  return (\r\n    <NavLink\r\n      to={`/profile/${props.id}`}\r\n      className={styles.avatar}\r\n    >\r\n      <img src={props.avatar} alt=\"avatar\" />\r\n    </NavLink>\r\n  )\r\n}\r\n\r\nexport default UserAvatar;","import React from 'react';\r\nimport styles from './buttonloading.module.css';\r\n\r\nconst ButtonLoading = (props) => {\r\n  return (\r\n    <div className={styles.loading}>\r\n      <div\r\n        style={{ backgroundColor: props.backgroundColor }} \r\n        className={styles.loadingItem}\r\n      />\r\n      <div\r\n        style={{ backgroundColor: props.backgroundColor }} \r\n        className={styles.loadingItem}\r\n      />\r\n      <div\r\n        style={{ backgroundColor: props.backgroundColor }} \r\n        className={styles.loadingItem}\r\n      />\r\n      <div\r\n        style={{ backgroundColor: props.backgroundColor }} \r\n        className={styles.loadingItem}\r\n      />\r\n      <div\r\n        style={{ backgroundColor: props.backgroundColor }} \r\n        className={styles.loadingItem}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ButtonLoading;","import React from 'react';\r\nimport styles from './followbutton.module.css';\r\nimport ButtonLoading from '../../../../common/ButtonLoading/ButtonLoading';\r\n\r\nconst FollowButton = (props) => {\r\n  const followedClass = (isFollowed) => {\r\n    return (isFollowed) ? ` ${styles.followed}` : '';\r\n  }\r\n\r\n  const buttonName = (isFollowed) => {\r\n    return (isFollowed) ? 'unfollow' : 'follow';\r\n  }\r\n\r\n  return (\r\n    <button\r\n      className={`${styles.followButton}${followedClass(props.isFollowed)}`}\r\n      onClick={props.onClick}\r\n      disabled={props.disabled}\r\n    >\r\n      {\r\n        (props.disabled)\r\n          ? <ButtonLoading backgroundColor='#353b48'/>\r\n          : buttonName(props.isFollowed)\r\n      }\r\n    </button>\r\n  )\r\n}\r\n\r\nexport default FollowButton","import React from 'react';\r\nimport styles from './userinfo.module.css';\r\nimport FollowButton from '../FollowButton/FollowButton';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst UserInfo = (props) => {\r\n  return (\r\n    <div className={styles.info}>\r\n      <NavLink\r\n        to={`/profile/${props.id}`}\r\n        className={styles.name}\r\n      >\r\n        {props.fullName}\r\n      </NavLink>\r\n      <p className={styles.status}>{props.status}</p>\r\n      <FollowButton\r\n        disabled={props.inFollowingProgress.includes(props.id)}\r\n        isFollowed={props.followed}\r\n        onClick={props.onClick}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UserInfo;","import React from 'react';\r\nimport styles from './useritem.module.css';\r\nimport UserAvatar from './UserAvatar/UserAvatar';\r\nimport UserInfo from './UserInfo/UserInfo';\r\n\r\nconst UserItem = (props) => {\r\n  return (\r\n    <div className={styles.item}> \r\n      <UserAvatar\r\n        avatar={props.avatar}\r\n        id={props.id}\r\n      />\r\n      <UserInfo\r\n        id={props.id}\r\n        fullName={props.fullName}\r\n        status={props.status}\r\n        followed={props.followed}\r\n        onClick={props.toggleFollow}\r\n        inFollowingProgress={props.inFollowingProgress}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UserItem;","import React from 'react';\r\nimport styles from './pages.module.css';\r\n\r\nconst Pages = (props) => {\r\n  let items = [];\r\n  let firstPage;\r\n\r\n  const pagesToShow = props.pagesToShow || 10;\r\n  const pagesTotal = Math.ceil(props.usersTotal / props.shownUsersNumber);\r\n  \r\n  if (props.currentPage < pagesToShow) {\r\n    firstPage = 1;\r\n  } else if (props.currentPage > pagesTotal - pagesToShow) {\r\n    firstPage = pagesTotal - pagesToShow;\r\n  } else {\r\n    firstPage = props.currentPage - (pagesToShow / 2);\r\n  }\r\n  \r\n  const isPicked = number => {\r\n    return (props.currentPage === number) ? ' ' + styles.picked : '';\r\n  }\r\n\r\n  for (let i = firstPage; i <= firstPage + pagesToShow; i++) {\r\n    items.push(i);\r\n  }\r\n  \r\n  return (\r\n    <div className={styles.pagesBar}>\r\n      <button\r\n        className={styles.button}\r\n        onClick={() => props.switchPage(1)}\r\n        disabled={firstPage === 1}\r\n      >\r\n        First\r\n      </button>\r\n\r\n      <div className={styles.pages}>\r\n        {items.map(item => {\r\n          return (\r\n            <span\r\n              key={item}\r\n              className={`${styles.pageNumber}${isPicked(item)}`}\r\n              onClick={() => props.switchPage(item)}\r\n            > \r\n              {item}\r\n            </span>\r\n          )\r\n        })}\r\n      </div>\r\n      \r\n      <button\r\n        className={styles.button}\r\n        onClick={() => props.switchPage(pagesTotal)}\r\n        disabled={props.currentPage > pagesTotal - pagesToShow}\r\n      >\r\n        Last\r\n      </button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Pages;","import React from 'react';\r\nimport styles from './users.module.css';\r\nimport UserItem from './UserItem/UserItem';\r\nimport Preloader from '../../common/Preloader/Preloader';\r\nimport Pages from '../../common/Pages/Pages';\r\nimport UserDefault from '../../../assets/images/UserDefault.png';\r\n\r\nconst Users = (props) => {\r\n  const users = props.users.map(item => {\r\n    return (\r\n      <UserItem\r\n        key={item.id}\r\n        inFollowingProgress={props.inFollowingProgress}\r\n        fullName={item.name}\r\n        id={item.id}\r\n        avatar={item.photos.large || UserDefault}\r\n        followed={item.followed}\r\n        status={item.status || 'This user has no status yet...'}\r\n        toggleFollow={() => props.toggleFollow(item.followed, item.id)}\r\n      />\r\n    )\r\n  })\r\n\r\n  return (\r\n    <div className={styles.users}>\r\n      <h2 className={styles.title}>users</h2>\r\n      <Pages\r\n        currentPage={props.currentPage}\r\n        switchPage={(number) => props.onPageChanged(number)}\r\n        usersTotal={props.usersTotal}\r\n        shownUsersNumber={props.shownUsersNumber}\r\n      />\r\n      <div className={styles.usersList}>\r\n        {\r\n          props.isLoading\r\n          ? <Preloader extraClass={styles.preloader} />\r\n          : users\r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Users;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Users from './Users';\r\nimport { toggleFollow, changePage, getUsers }\r\n  from '../../../redux/thunkCreators';\r\nimport { compose } from 'redux';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport * as selectors from '../../../redux/selectors';\r\n\r\nclass UsersContainer extends React.Component {\r\n  componentDidMount() {\r\n    this.props.getUsers(this.props.stateInfo.shownUsersNumber);\r\n  }\r\n\r\n  onPageChanged = (pageNumber) => {\r\n    this.props.changePage(pageNumber, this.props.stateInfo.shownUsersNumber);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Users\r\n        {...this.props.stateInfo}\r\n        toggleFollow={this.props.toggleFollow}\r\n        onPageChanged={this.onPageChanged}\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    stateInfo: {\r\n      users: selectors.getServerUsersList(state),\r\n      shownUsersNumber: selectors.getShownUsersNumber(state),\r\n      usersTotal: selectors.getUsersTotal(state),\r\n      currentPage: selectors.getCurrentPage(state),\r\n      isLoading: selectors.getIsLoading(state),\r\n      inFollowingProgress: selectors.getInFollowingProgress(state),\r\n    },\r\n  }\r\n}\r\nconst actionCreators = {\r\n  toggleFollow,\r\n  changePage,\r\n  getUsers,\r\n}\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, actionCreators),\r\n  withAuthRedirect,\r\n)(UsersContainer)\r\n\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport styles from './dialogsitem.module.css';\r\n\r\nconst DialogsItem = (props) => {\r\n  return (\r\n    <NavLink\r\n      to={`/dialogs/id=${props.userId}`}\r\n      activeClassName={styles.active}\r\n      className={styles.item}\r\n      onClick={() => props.onClick(props.userId)}\r\n    >\r\n      <div className={styles.user}>\r\n        <img\r\n          className={styles.userAvatar}\r\n          src={props.avatar} alt=''\r\n        />\r\n      </div>\r\n      <h4 className={styles.userName}>\r\n        {props.name}\r\n      </h4>\r\n      <p className={styles.lastMessage}>\r\n        {props.lastMessage}\r\n      </p>\r\n    </NavLink>\r\n  )\r\n}\r\n\r\nexport default DialogsItem;","import React from 'react';\r\nimport styles from './dialogslist.module.css';\r\nimport DialogsItem from './DialogsItem/DialogsItem';\r\n\r\nfunction returnLastMessage(array) {\r\n  let lastMessage = array[array.length - 1].text;\r\n  // debugger\r\n  return (lastMessage.length > 30)\r\n    ? lastMessage.slice(0, 30) + '...'\r\n    : lastMessage;\r\n}\r\n\r\nconst DialogsList = (props) => {\r\n  let dialogsList = props.dialogs;\r\n  let dialogs = dialogsList.map(item => (\r\n    <DialogsItem\r\n      onClick={props.setCurrentDialogId}\r\n      key={item.userId}\r\n      userId={item.userId}\r\n      name={props.getName(item.userId)}\r\n      avatar={props.getAvatar(item.userId)}\r\n      lastMessage={returnLastMessage(item.messagesHistory)}\r\n    />\r\n  ))\r\n\r\n  return (\r\n    <div className={styles.dialogs}>\r\n      <h3 className={styles.title}>\r\n        Recent dialogs\r\n      </h3>\r\n      {dialogs}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DialogsList;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Component } from 'react';\r\nimport DialogsList from './DialogsList';\r\nimport { setCurrentDialogId } from '../../../../redux/actionCreators'\r\nimport { compose } from 'redux';\r\nimport * as selectors from '../../../../redux/selectors';\r\n\r\nclass DialogsListContainer extends Component {\r\n  componentWillUnmount() {\r\n    this.props.setCurrentDialogId(null);\r\n  }\r\n  componentDidMount() {\r\n    this.props.setCurrentDialogId(null);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <DialogsList {...this.props} />\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    dialogs: selectors.getUsersDialogs(state),\r\n    getName: selectors.getNameGetter(state),\r\n    getAvatar: selectors.getAvatarGetter(state),\r\n  }\r\n}\r\nconst actionCreators = {\r\n  setCurrentDialogId,\r\n}\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, actionCreators)\r\n)(DialogsListContainer);","import React from 'react';\r\nimport styles from './messageitem.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst MessageItem = (props) => {\r\n  return (\r\n    <div className={`${styles.message} ${props.isSelfMessage}`}>\r\n      <div className={styles.avatar}>\r\n        <NavLink to='/profile'>\r\n          <img src={props.avatar} alt='' />\r\n        </NavLink>\r\n      </div>\r\n      <p className={styles.item}>{props.text}</p>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default MessageItem;","import React from 'react';\r\nimport styles from './messagesbody.module.css';\r\nimport MessageItem from './MessageItem/MessageItem';\r\nimport ScrollToBottom from 'react-scroll-to-bottom';\r\n\r\nconst MessagesBody = (props) => {\r\n  const dialog = props.getDialog(props.currentDialog);\r\n  const messagesHistory = [...dialog].reverse();\r\n\r\n  const isSelfMessage = (id, idSelf) => (id === idSelf) ? styles.selfMessage : false;\r\n\r\n  let messagesList = messagesHistory.map((message) => (\r\n    <MessageItem\r\n      key={message.time}\r\n      text={message.text}\r\n      avatar={props.getAvatar(message.id)}\r\n      isSelfMessage={isSelfMessage(message.id, props.idSelf)}\r\n    />\r\n  ));\r\n\r\n  return (\r\n    <ScrollToBottom className={styles.messagesBody}>\r\n      <div className={styles.messagesList}>\r\n        {messagesList}\r\n      </div>\r\n    </ScrollToBottom>\r\n  )\r\n};\r\n\r\nexport default MessagesBody;","import { connect } from 'react-redux';\r\nimport MessagesBody from './MessagesBody';\r\nimport * as selectors from '../../../../../redux/selectors';\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    dialogs: selectors.getUsersDialogs(state),\r\n    currentDialog: selectors.getCurrentDialogId(state),\r\n    idSelf: selectors.getLoggedUser(state),\r\n    getAvatar: selectors.getAvatarGetter(state),\r\n    getDialog: selectors.getDialogGetter(state),\r\n  }\r\n}\r\n\r\nconst MessagesBodyContainer = connect(mapStateToProps)(MessagesBody);\r\n\r\nexport default MessagesBodyContainer;","import React from 'react';\r\nimport styles from './createmessage.module.css';\r\nimport { Field } from 'redux-form';\r\nimport Button from '../../../../common/Button/Button';\r\n\r\nconst PostForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <Field\r\n        placeholder='Type your message...'\r\n        name='messageText'\r\n        className={styles.messageField}\r\n        component='textarea'\r\n      />\r\n      <Button\r\n        addClass={styles.button}\r\n        buttonName='Send'\r\n      />\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default PostForm;","import React from 'react';\r\nimport styles from './createmessage.module.css';\r\nimport { reduxForm } from 'redux-form';\r\nimport NewMessageForm from './NewMessageForm';\r\n\r\nconst SendMessageForm = reduxForm({ form: 'sendMessageForm' })(NewMessageForm);\r\n\r\nconst CreateMessage = (props) => {  \r\n  let sendMessage = (formData) => {\r\n    props.sendMessage(formData.messageText);\r\n    props.reset('sendMessageForm');\r\n  }\r\n\r\n  return (\r\n    <div className={styles.newMessage}>\r\n      <SendMessageForm onSubmit={sendMessage}/>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default CreateMessage;","import { connect } from 'react-redux';\r\nimport CreateMessage from './CreateMessage';\r\nimport { reset } from 'redux-form';\r\nimport { sendMessage } from '../../../../../redux/actionCreators';\r\n\r\nexport default connect(null, { sendMessage, reset })(CreateMessage);\r\n","import React from 'react';\r\nimport styles from './messages.module.css';\r\nimport MessagesBodyContainer from './MessagesBody/MessagesBodyContainer';\r\nimport CreateMessageContainer from './CreateMessage/CreateMessageContainer';\r\n\r\nconst Messages = (props) => {\r\n  let userName = (props.currentDialog)\r\n    ? props.getName(props.currentDialog)\r\n    : '';\r\n  \r\n  if (userName) {\r\n    return (\r\n      <div className={styles.messages}>\r\n        <h4 className={styles.title}>\r\n          {userName}\r\n        </h4>\r\n        <MessagesBodyContainer />\r\n        <CreateMessageContainer />\r\n      </div>\r\n    );\r\n  } else {\r\n    return (\r\n      <>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Messages;\r\n","import { connect } from 'react-redux';\r\nimport Messages from './Messages';\r\nimport * as selectors from '../../../../redux/selectors';\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    currentDialog: selectors.getCurrentDialogId(state),\r\n    getName: selectors.getNameGetter(state),\r\n  }\r\n}\r\n\r\nlet MessagesContainer = connect(mapStateToProps)(Messages);\r\n\r\nexport default MessagesContainer;","import React from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport styles from './dialogs.module.css'\r\nimport DialogsListContainer from './DialogsList/DialogsListContainer';\r\nimport MessagesContainer from './Messages/MessagesContainer';\r\nimport Preloader from '../../common/Preloader/Preloader';\r\n\r\nconst ChooseDialog = () => {\r\n  return (\r\n    <div className={styles.noDialog}>\r\n        <h4 className={styles.noDialogTitle}>\r\n          Choose a dialog to start...\r\n        </h4>\r\n        <Preloader extraClass={styles.preloader} />\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Dialogs = (props) => {\r\n  return (\r\n    <div className={styles.dialogs}>\r\n      <DialogsListContainer />\r\n      <Route\r\n        path=\"/dialogs/\"\r\n        render={() => <MessagesContainer />}\r\n      />\r\n      {props.currentDialogId ? null : <ChooseDialog />}\r\n    </div>\r\n  )\r\n}\r\nexport default Dialogs;\r\n","import { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport Dialogs from './Dialogs';\r\nimport * as selectors from '../../../redux/selectors';\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    currentDialogId: selectors.getCurrentDialogId(state),\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  connect(mapStateToProps),\r\n  withAuthRedirect\r\n)(Dialogs);\r\n","import React from 'react';\r\nimport styles from './settings.module.css';\r\nimport Preloader from '../../common/Preloader/Preloader';\r\nimport { useState } from 'react';\r\n\r\n\r\nconst UploadPhoto = (props) => {\r\n  return (\r\n    <div className={styles.uploadPhoto}>\r\n      {props.photo &&\r\n        <div className={styles.preview}>\r\n          <img\r\n            src={URL.createObjectURL(props.photo)}\r\n            className={styles.photoPreview}\r\n            alt=\"upload\"\r\n          />\r\n        </div>\r\n      }\r\n      <div className={styles.options}>\r\n        <label className={styles.label}>\r\n          Choose\r\n           <input\r\n            type=\"file\"\r\n            onChange={props.onChange}\r\n            className={styles.choosePhoto}\r\n          />\r\n        </label>\r\n        <div\r\n          className={styles.upload}\r\n          onClick={props.onClick}\r\n        >\r\n          Upload\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Settings = (props) => {\r\n  const [photo, setPhoto] = useState(null); \r\n\r\n  const uploadPhoto = () => {\r\n    if (photo) {\r\n      props.uploadPhoto(photo);\r\n    }\r\n  }\r\n\r\n  const setPreviewPhoto = (e) => {\r\n    setPhoto(e.target.files[0])\r\n  }\r\n\r\n  return (\r\n    <div className={styles.settings}>\r\n      <h2 className={styles.title}>settings</h2>\r\n      <div className={`${styles.photoUpdate} ${styles.settingsSection}`}>\r\n        <h3 className={styles.sectionTitle}>\r\n          Upload Photo:\r\n        </h3>\r\n        {props.isUploading\r\n          ? <Preloader extraClass={styles.preloader}/>\r\n          : <UploadPhoto\r\n            onChange={setPreviewPhoto}\r\n            onClick={uploadPhoto}\r\n            photo={photo}\r\n          />\r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Settings;","import { compose } from 'redux';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect'\r\nimport { uploadPhoto } from '../../../redux/thunkCreators';\r\nimport { connect } from 'react-redux';\r\nimport Settings from './Settings';\r\nimport * as selectors  from '../../../redux/selectors';\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isUploading: selectors.getIsPhotoUploading(state),\r\n  }\r\n}\r\nexport default compose(\r\n  connect(mapStateToProps, {uploadPhoto}),\r\n  withAuthRedirect\r\n)(Settings);","import React from 'react';\r\nimport { Route } from \"react-router-dom\";\r\nimport styles from './main.module.css';\r\nimport LoginPageContainer from './LoginPage/LoginPageContainer';\r\nimport ProfilePageContainer from './ProfilePage/ProfilePageContainer';\r\nimport Music from './Music/Music';\r\nimport News from './News/News';\r\nimport UsersContainer from './Users/UsersContainer';\r\nimport DialogsContainer from './Dialogs/DialogsContainer';\r\nimport SettingsContainer from './Settings/SettingsContainer';\r\n\r\nconst Main = () => {\r\n  return (\r\n    <main className={styles.main}>\r\n      <Route\r\n        path='/login'\r\n        render={() => <LoginPageContainer />}\r\n      />\r\n      <Route\r\n        path='/profile/:userId?'\r\n        render={() => <ProfilePageContainer />}\r\n      />\r\n      <Route\r\n        path='/dialogs/'\r\n        render={() => <DialogsContainer />} \r\n      />\r\n      <Route\r\n        path='/users'\r\n        render={() => <UsersContainer />} \r\n      />\r\n      <Route\r\n        path='/news'\r\n        render={() => <News />}\r\n      />\r\n      <Route\r\n        path='/music'\r\n        render={() => <Music/>}\r\n      />\r\n      <Route\r\n        path='/settings'\r\n        render={() => <SettingsContainer/>}\r\n      />\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\nimport styles from './footer.module.css';\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <footer className={styles.footer}>\r\n      <p className={styles.info}>THIS IS FOOTER</p>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport Nav from './components/Nav/Nav';\r\nimport Main from './components/Main/Main';\r\nimport Footer from './components/Footer/Footer'\r\n\r\nconst App = (props) => {\r\n  return (\r\n    <div className='app-wrapper'>\r\n      <HeaderContainer />\r\n      <Nav />\r\n      <Main />\r\n      <Footer />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport styles from './apploader.module.css';\r\n\r\nconst AppLoader = () => {\r\n  return (\r\n    <div className={styles.preloader}>\r\n      <h1 className={styles.title}>Loading...</h1>\r\n      <div className={styles.loader}>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AppLoader;","import React from 'react';\r\nimport App from './App';\r\nimport { connect } from 'react-redux';\r\nimport { initializeApp } from './redux/thunkCreators';\r\nimport AppLoader from './components/common/AppLoader/AppLoader';\r\nimport { compose } from 'redux';\r\nimport * as selectors from './redux/selectors';\r\n\r\nclass AppWrapper extends React.Component {\r\n  componentDidMount() {\r\n    this.props.initializeApp();\r\n  }\r\n  render() {\r\n    if (!this.props.isInitialized) {\r\n      return <AppLoader />\r\n    }\r\n    return <App />\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isInitialized: selectors.getIsInitialized(state),\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, { initializeApp })\r\n)(AppWrapper)","import * as serviceWorker from './serviceWorker';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { HashRouter } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\nimport './index.css';\r\nimport store from './redux/redux-store';\r\nimport AppWrapper from './AppWrapper';\r\n\r\nconst renderApp = () => {\r\n  ReactDOM.render(\r\n    <HashRouter>\r\n      <Provider store={store}>\r\n        <AppWrapper/>\r\n      </Provider>\r\n    </HashRouter>,\r\n    document.getElementById('root')\r\n  )\r\n}\r\nwindow.store = store;\r\n\r\nrenderApp();\r\nstore.subscribe(renderApp);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputItem\":\"controlledforms_inputItem__23YZM\",\"input\":\"controlledforms_input__RjTSp\",\"inputLabel\":\"controlledforms_inputLabel__6hNrH\",\"errorMessage\":\"controlledforms_errorMessage__VCN95\",\"errorInput\":\"controlledforms_errorInput__1wAj-\",\"errorLabel\":\"controlledforms_errorLabel__1Jl78\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"profile_profile__2CN2h\",\"avatar\":\"profile_avatar__3Cujw\",\"updateProfile\":\"profile_updateProfile__w8NE9\",\"userName\":\"profile_userName__2aBdB\",\"status\":\"profile_status__1jbvg\",\"details\":\"profile_details__2O7Q9\",\"preloader\":\"profile_preloader__37YeC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loading\":\"buttonloading_loading__2W8Z9\",\"loadingItem\":\"buttonloading_loadingItem__2WzJQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagesBar\":\"pages_pagesBar__3b1xg\",\"pages\":\"pages_pages__23RJ8\",\"pageNumber\":\"pages_pageNumber__1XW9N\",\"picked\":\"pages_picked__1VBpq\",\"button\":\"pages_button__aVHgs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"dialogsitem_item__1GNU5\",\"active\":\"dialogsitem_active__lJInv\",\"user\":\"dialogsitem_user__3fKSf\",\"userAvatar\":\"dialogsitem_userAvatar__3xwDj\",\"userName\":\"dialogsitem_userName__3-ADc\",\"lastMessage\":\"dialogsitem_lastMessage__NkGp_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"createPost\":\"postcreate_createPost__3KPVB\",\"title\":\"postcreate_title__tu8yn\",\"createButton\":\"postcreate_createButton__jov8Z\",\"newText\":\"postcreate_newText__3GPat\",\"button\":\"postcreate_button__VIcjl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"newMessage\":\"createmessage_newMessage__1u_Uq\",\"messageField\":\"createmessage_messageField__1wW8u\",\"button\":\"createmessage_button__1LBSC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"users_users__3_1Rr\",\"title\":\"users_title__TLbWg\",\"usersList\":\"users_usersList__L2Awr\",\"preloader\":\"users_preloader__1Fj3J\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"dialogs_dialogs__1B7oG\",\"noDialog\":\"dialogs_noDialog__1vhpc\",\"preloader\":\"dialogs_preloader__3J-JN\"};","module.exports = __webpack_public_path__ + \"static/media/UserDefault.9d1403c3.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"navitem_item__2H048\",\"itemLink\":\"navitem_itemLink__2hSK1\",\"active\":\"navitem_active__pyTMm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friendsBar\":\"friendsbar_friendsBar__2CG7y\",\"title\":\"friendsbar_title__PT1eW\",\"items\":\"friendsbar_items__1SB83\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"frienditem_item__dqGk5\",\"avatar\":\"frienditem_avatar__1wCn_\",\"name\":\"frienditem_name__aM34G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"statusBox\":\"profilestatus_statusBox__2qWcf\",\"status\":\"profilestatus_status__2sPLS\",\"statusText\":\"profilestatus_statusText__1sj4B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"statusEdit\":\"statusedit_statusEdit__XB7o6\",\"statusInput\":\"statusedit_statusInput__29etj\",\"button\":\"statusedit_button__3gm4N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"info\":\"userinfo_info__2gOZS\",\"name\":\"userinfo_name__2aW7j\",\"status\":\"userinfo_status__1rQiy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messagesBody\":\"messagesbody_messagesBody__1D6YI\",\"messagesList\":\"messagesbody_messagesList__1wa2X\",\"selfMessage\":\"messagesbody_selfMessage__10HCB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"messageitem_avatar__HshMf\",\"message\":\"messageitem_message__3qVp3\",\"item\":\"messageitem_item__1pOYK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"apploader_preloader__2XDPF\",\"loader\":\"apploader_loader__3-zPr\",\"spin\":\"apploader_spin__2lhor\"};"],"sourceRoot":""}