(this.webpackJsonpsocial=this.webpackJsonpsocial||[]).push([[0],{114:function(e,t,a){e.exports=a.p+"static/media/avatar1.0606301c.jpg"},115:function(e,t,a){e.exports=a.p+"static/media/avatar2.aa610c09.jpg"},116:function(e,t,a){e.exports=a.p+"static/media/avatar3.b2eb87e5.jpg"},117:function(e,t,a){e.exports=a.p+"static/media/avatar4.13aec6a5.jpg"},120:function(e,t,a){e.exports={nav:"nav_nav__3ISbk",list:"nav_list__Mm265"}},121:function(e,t,a){e.exports={separator:"separator_separator__Cf5eM",line:"separator_line__2mLzD"}},124:function(e,t,a){e.exports={item:"infoitem_item__12B_1",data:"infoitem_data__3oEJj"}},125:function(e,t,a){e.exports={loaderContainer:"preloader_loaderContainer__3B1ZB",loader:"preloader_loader__ru23u"}},126:function(e,t,a){e.exports={posts:"postlist_posts__3Fips",title:"postlist_title__1WD7W"}},127:function(e,t,a){e.exports={followButton:"followbutton_followButton__1Eiru",followed:"followbutton_followed__zT6D1"}},128:function(e,t,a){e.exports={dialogs:"dialogslist_dialogs__6c6J4",title:"dialogslist_title__3D_l8"}},129:function(e,t,a){e.exports={messages:"messages_messages__1ehma",title:"messages_title__1ys3D"}},130:function(e,t,a){e.exports={settings:"settings_settings__1Ggle",title:"settings_title__4ubpb",sectionTitle:"settings_sectionTitle__2QQda"}},131:function(e,t,a){e.exports={contacts:"contactsinfo_contacts__X_hiz",title:"contactsinfo_title__39S0P"}},132:function(e,t,a){e.exports={footer:"footer_footer__Xv_4w",info:"footer_info__2Q1dF"}},176:function(e,t,a){e.exports={button:"logbutton_button__116zU"}},178:function(e,t,a){e.exports={main:"main_main__2aZsZ"}},179:function(e,t,a){e.exports={preloader:"loginpage_preloader__3FYZS"}},180:function(e,t,a){e.exports={createButton:"button_createButton__1JTgw"}},181:function(e,t,a){},182:function(e,t,a){},183:function(e,t,a){e.exports={item:"useritem_item__3PNRF"}},184:function(e,t,a){e.exports={avatar:"useravatar_avatar__2evJ2"}},186:function(e,t,a){e.exports={save:"updateprofileform_save__3lhbu"}},20:function(e,t,a){e.exports={inputItem:"updateprofilefields_inputItem__1fZAc",textareaItem:"updateprofilefields_textareaItem__2GA62",inputTitle:"updateprofilefields_inputTitle__3c6Et",textareaTitle:"updateprofilefields_textareaTitle__1DNZp",input:"updateprofilefields_input__K0Knf",errorInput:"updateprofilefields_errorInput__3_ZNC",errorMessage:"updateprofilefields_errorMessage__32YXH",textarea:"updateprofilefields_textarea__10sNy",checkboxItem:"updateprofilefields_checkboxItem__3sz2D",checkboxLabel:"updateprofilefields_checkboxLabel__11mgp"}},212:function(e,t,a){e.exports=a(382)},220:function(e,t,a){},25:function(e,t,a){e.exports={inputItem:"controlledforms_inputItem__23YZM",input:"controlledforms_input__RjTSp",inputLabel:"controlledforms_inputLabel__6hNrH",errorMessage:"controlledforms_errorMessage__VCN95",captchaErrorMessage:"controlledforms_captchaErrorMessage__2aPJg",errorInput:"controlledforms_errorInput__1wAj-",errorLabel:"controlledforms_errorLabel__1Jl78",captcha:"controlledforms_captcha__15WwE",captchaTitle:"controlledforms_captchaTitle__G9BC9",captchaInput:"controlledforms_captchaInput__3yN4T",captchaImage:"controlledforms_captchaImage__zXAiB"}},26:function(e,t,a){e.exports={infoList:"profileinfo_infoList__36QE6",contactsBlock:"profileinfo_contactsBlock__8athY",blockShown:"profileinfo_blockShown__19Vyt",contactItem:"profileinfo_contactItem__1rrhi",title:"profileinfo_title__31M9R",contactData:"profileinfo_contactData__ppNQF",arrow:"profileinfo_arrow__yaWLx",arrowShown:"profileinfo_arrowShown__3WkxQ",noInfo:"profileinfo_noInfo__27v-c"}},33:function(e,t,a){e.exports={uploadPhoto:"uploadphoto_uploadPhoto__1GZN9",title:"uploadphoto_title__1wTOr",upload:"uploadphoto_upload__1Hhs5",preview:"uploadphoto_preview__2m3KF",label:"uploadphoto_label__3Y14E",photoPreview:"uploadphoto_photoPreview__3O2ST",choosePhoto:"uploadphoto_choosePhoto__3DqrO",uploadButton:"uploadphoto_uploadButton__GhtC4"}},38:function(e,t,a){e.exports={header:"header_header__2cW2I",title:"header_title__17lNI",logo:"header_logo__GuV_p",name:"header_name__1zIXi",button:"header_button__17aZo",username:"header_username__vG21x"}},382:function(e,t,a){"use strict";a.r(t);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var n,r=a(0),o=a.n(r),s=a(80),i=a.n(s),c=a(11),l=a(7),u=(a(220),a(5)),m=a(174),d=[{userId:"184760497"},{userId:"987343516"},{userId:"084926135"}],p={friends:d},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;return e},g=a(32),b=a(2),_=[{postId:"1",authorId:"641006348",time:"5 days ago",text:"I'm new here. This website looks prefect!"},{postId:"2",authorId:"084926135",time:"yesterday",text:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Excepturi\n      non culpa delectus a ea distinctio officia labore, atque sed\n      voluptatem. Tempora, iste quasi! Neque, veritatis expedita. Obcaecati\n      molestias eaque animi.Lorem, ipsum dolor sit amet consectetur adipisicinelit. Excepturi\n      non culpa delectus a ea distinctio officia labore, atque sed\n      voluptatem. Tempora, iste quasi! Neque, veritatis expedita. Obcaecati\n      molestias eaque animi.Lorem, ipsum dolor sit amet consectetur adipisicinelit. Excepturi\n      non culpa delectus a ea distinctio officia labore, atque sed\n      voluptatem. Tempora, iste quasi! Neque, veritatis expedita. Obcaecati\n      molestias eaque animi."},{postId:"3",authorId:"641006348",time:"8 hours ago",text:"What's up guys?"},{postId:"4",authorId:"184760497",time:"1 hour ago",text:"Two exquisite objection delighted deficient yet its containedCordial because are account evident its subject but eat. Can properlfollowed learning prepared you doubtful yethim. Over many our good ladfeet ask that. Expenses own moderate day fat trifling stronger sir domestifeelings. Itself at be answer always exeter up do. Though or my plentuneasy do.Friendship so considered remarkably be to sentiments. Offeremention greater fifteen one promise because nor. Why denoting speaking faindulged saw dwelling raillery. "},{postId:"5",authorId:"987343516",time:"35 minutes ago",text:"Why end might ask civil again spoil. She dinner she our horsedepend. Remember at children by reserved to vicinity. In affrontinunreserved delightful simplicity ye."}],h={loggedUser:"641006348",authorizedUser:null,shownUser:null,currentUserInfo:null,currentUserStatus:"",friends:d,postsList:_,isPhotoUploading:!1,isProfileUpdating:!1},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":var a={};return a.postId=e.postsList.length+1,a.authorId="641006348",a.time="just now",a.text=t.postText,Object(b.a)(Object(b.a)({},e),{},{postsList:[].concat(Object(g.a)(e.postsList),[a])});case"SET-CURRENT-USER":return Object(b.a)(Object(b.a)({},e),{},{authorizedUser:t.id});case"SET-CURRENT-USER-INFO":return Object(b.a)(Object(b.a)({},e),{},{shownUser:t.user.userId,currentUserInfo:t.user});case"SET-CURRENT-USER-STATUS":return Object(b.a)(Object(b.a)({},e),{},{currentUserStatus:t.status});case"SET-CURRENT-USER-PHOTOS":return Object(b.a)(Object(b.a)({},e),{},{currentUserInfo:Object(b.a)(Object(b.a)({},e.currentUserInfo),{},{photos:t.photos})});case"SET-IS-PHOTO-UPLOADING":return Object(b.a)(Object(b.a)({},e),{},{isPhotoUploading:t.isUploading});case"SET-IS-PROFILE-UPDATING":return Object(b.a)(Object(b.a)({},e),{},{isProfileUpdating:t.isUpdating});default:return e}},v=[{userId:"184760497",messagesHistory:[{id:"184760497",time:1,text:"Message1"},{id:"641006348",time:2,text:"Message2"},{id:"184760497",time:3,text:"Message3"},{id:"184760497",time:4,text:"Wow, the last from Vitaliy. He's da best!!"}]},{userId:"084926135",messagesHistory:[{id:"084926135",time:1,text:"Message one by Ann"},{id:"641006348",time:2,text:"Firs message by me"},{id:"641006348",time:3,text:"Another message by me"},{id:"084926135",time:4,text:"This one is not the last from Ann.."},{id:"084926135",time:5,text:"and one more message by Ann"},{id:"641006348",time:6,text:"look, it's my message again"},{id:"641006348",time:7,text:"and this one is also sent by me, not by Ann"},{id:"084926135",time:8,text:"This one is the last from Ann. Actually truth"}]},{userId:"987343516",messagesHistory:[{id:"987343516",time:1,text:"Message1"},{id:"641006348",time:2,text:"Message2"},{id:"987343516",time:3,text:"Message3"},{id:"987343516",time:4,text:"Last message from Victoria!"}]}],N={usersDialogs:v,currentUser:"641006348",currentDialog:null,getDialog:function(e){return this.usersDialogs.find((function(t){return t.userId===e})).messagesHistory}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND-MESSAGE":var a=Object.assign({},e),n={},r=a.getDialog(a.currentDialog);return n.text=t.message,n.id=a.currentUser,n.time=r.length+1,r.push(n),a;case"SET-CURRENT-DIALOG-ID":return Object(b.a)(Object(b.a)({},e),{},{currentDialog:t.id});default:return e}},w={},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w;return e},k={},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k;return e},j=a(114),S=a.n(j),x=a(115),U=a.n(x),T=a(116),P=a.n(T),C=a(117),L=a.n(C),A=[{id:"641006348",firstName:"Sasha",lastName:"Plotnikov",fullName:"Sasha Plotnikov",photos:{small:S.a,large:S.a},location:{countryName:"Ukraine",cityName:"Kyiv"},followed:!1,status:"I want to be a good person...",contacts:{facebook:"facebook.com",website:"https://github.com/spclear",vk:"vk.com/",twitter:"https://twitter.com/@sdf",instagram:"instagra.com/sds",youtube:null,github:"github.com",mainLink:null},aboutMe:"Like playing the guitar, learning math and programming. ",lookingForAJob:!0,lookingForAJobDescription:"Reactjs/native js or something related to those two"},{id:"184760497",firstName:"Vitaliy",lastName:"Boom",fullName:"Vitaliy Boom",photos:{small:U.a,large:U.a},location:{countryName:"Russia",cityName:"Moscow"},followed:!0,status:"Professionals have standarts.",contacts:{facebook:"facebook.com",website:null,vk:"vk.com/",twitter:"https://twitter.com/@sdf",instagram:"instagra.com/sds",youtube:null,github:"github.com",mainLink:null},aboutMe:"Traveling around the world with my family and enjoying my life!",lookingForAJob:!1,lookingForAJobDescription:null},{id:"084926135",firstName:"Ann",lastName:"Melnik",fullName:"Ann Melnik",photos:{small:P.a,large:P.a},location:{countryName:"Great Britain",cityName:"London"},followed:!0,status:"Does anyone what to hang out?",contacts:{facebook:"facebook.com",website:null,vk:"vk.com/",twitter:"https://twitter.com/@sdf",instagram:"instagra.com/sds",youtube:null,github:"github.com",mainLink:null},aboutMe:"I do like watching anime and drawing anime characters!",lookingForAJob:!1,lookingForAJobDescription:null},{id:"987343516",firstName:"Victoria",lastName:"Kupisheva",fullName:"Victoria Kupisheva",photos:{small:L.a,large:L.a},location:{countryName:"Belarus",cityName:"Minsk"},followed:!1,status:"I Am Not Arguing, I\u2019M Simply Explaining Why I Am Right.",contacts:{facebook:"facebook.com",website:null,vk:"vk.com/",twitter:"https://twitter.com/@sdf",instagram:"instagra.com/sds",youtube:null,github:"github.com",mainLink:null},aboutMe:"If you want to know something about me, feel free to ask me :)",lookingForAJob:!0,lookingForAJobDescription:"Wanna be a part of a big team!"}],D=A,F={usersList:D,friendsShown:4,serverUsersList:[],shownUsersNumber:10,usersTotal:0,currentPage:1,isLoading:!1,inFollowingProgress:[],getName:function(e){return this.usersList.find((function(t){return t.id===e})).firstName},getAvatar:function(e){return this.usersList.find((function(t){return t.id===e})).photos.large},getFullName:function(e){return this.usersList.find((function(t){return t.id===e})).fullName},getUser:function(e){return this.usersList.find((function(t){return t.id===e}))},getInfo:function(e){var t=this.usersList.find((function(t){return t.id===e}));return{status:t.status,location:Object(b.a)({},t.location),contacts:Object(b.a)({},t.contacts),aboutMe:t.aboutMe,lookingForAJob:t.lookingForAJob,lookingForAJobDescription:t.lookingForAJobDescription}}},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE-FOLLOW":return Object(b.a)(Object(b.a)({},e),{},{serverUsersList:e.serverUsersList.map((function(e){return e.id===t.id?Object(b.a)(Object(b.a)({},e),{},{followed:!e.followed}):e}))});case"SET-USERS":return Object(b.a)(Object(b.a)({},e),{},{serverUsersList:t.users});case"ADD-USERS":return Object(b.a)(Object(b.a)({},e),{},{serverUsersList:Object(g.a)(e.serverUsersList)});case"SET-USERS-TOTAL":return Object(b.a)(Object(b.a)({},e),{},{usersTotal:t.number});case"SWITCH-PAGE":return Object(b.a)(Object(b.a)({},e),{},{currentPage:t.number});case"TO-FIRST-PAGE":return Object(b.a)(Object(b.a)({},e),{},{currentPage:1});case"SET-LOADING-STATUS":return Object(b.a)(Object(b.a)({},e),{},{isLoading:t.value});case"SET-FOLLOWING-PROGRESS-STATUS":return Object(b.a)(Object(b.a)({},e),{},{inFollowingProgress:t.value?[].concat(Object(g.a)(e.inFollowingProgress),[t.id]):e.inFollowingProgress.filter((function(e){return e!==t.id}))});default:return e}},R={isLoggedIn:!1,loginProcessStatus:!1,currentUserDetails:{id:null,login:null,email:null},currentUserInfo:null,captchaUrl:null},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-LOGGED-STATUS":return Object(b.a)(Object(b.a)({},e),{},{isLoggedIn:t.isLoggedIn});case"SET-LOGGED-USER-DETAILS":return Object(b.a)(Object(b.a)({},e),{},{currentUserDetails:t.data});case"SET-LOGGED-USER-INFO":return Object(b.a)(Object(b.a)({},e),{},{currentUserInfo:Object(b.a)(Object(b.a)({},e.currentUserInfo),t.data)});case"SET-LOGGIN-PROCESS-STATUS":return Object(b.a)(Object(b.a)({},e),{},{loginProcessStatus:t.isInProcess});case"SET-CAPTCHA-URL":return Object(b.a)(Object(b.a)({},e),{},{captchaUrl:t.captchaUrl});default:return e}},G={isInitialized:!1},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-INITIALIZATION-STATUS":return Object(b.a)(Object(b.a)({},e),{},{isInitialized:!0});default:return e}},z=a(172),W=Object(u.c)({app:J,auth:B,navBar:f,profilePage:E,messagesPage:O,usersPage:M,newsPage:I,musicPage:y,form:z.a}),H=Object(u.e)(W,Object(u.a)(m.a)),q=H,V=a(14),Z=a(15),K=a(17),Q=a(16),X=a(38),Y=a.n(X),$=a(176),ee=a.n($),te=function(e){return o.a.createElement(c.b,{to:e.to||""},o.a.createElement("button",{className:ee.a.button+" "+e.additionalClass,onClick:e.onClick},e.buttonName))},ae=function(e){return o.a.createElement("div",null,o.a.createElement("span",{className:Y.a.username},e.name),o.a.createElement(te,{buttonName:"Sign out",to:"/login",additionalClass:Y.a.button,onClick:e.onClick}))},ne=function(){return o.a.createElement(te,{buttonName:"Sign in",to:"/login",additionalClass:Y.a.button})},re=function(e){return o.a.createElement("header",{className:Y.a.header},o.a.createElement("div",{className:Y.a.title},o.a.createElement("a",{href:"/profile",className:Y.a.logo}),o.a.createElement("a",{href:"/profile",className:Y.a.name},"Socia.L")),e.isLoggedIn&&e.userDetails?o.a.createElement(ae,{onClick:e.logout,name:e.userDetails.login||""}):o.a.createElement(ne,null))},oe=a(10),se=a.n(oe),ie=a(24),ce=function(e){return{type:"TOGGLE-FOLLOW",id:e}},le=function(e){return{type:"SET-USERS",users:e}},ue=function(e){return{type:"SET-LOADING-STATUS",value:e}},me=function(e){return{type:"SET-CURRENT-USER",id:e}},de=function(e){return{type:"SET-LOGGED-STATUS",isLoggedIn:e}},pe=function(e){return{type:" SET-LOGGIN-PROCESS-STATUS",isInProcess:e}},fe=function(e){return{type:"SET-LOGGED-USER-DETAILS",data:e}},ge=function(e){return{type:"SET-LOGGED-USER-INFO",data:e}},be=function(e,t){return{type:"SET-FOLLOWING-PROGRESS-STATUS",id:e,value:t}},_e=function(e){return{type:"SET-CURRENT-USER-STATUS",status:e}},he=function(e){return{type:"SET-IS-PHOTO-UPLOADING",isUploading:e}},Ee=function(e){return{type:"SET-IS-PROFILE-UPDATING",isUpdating:e}},ve=a(177),Ne=ve.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"83ee89dc-1391-4de4-9c05-ed1d5e1459ce"}}),Oe=function(e){return Ne.post("auth/login",Object(b.a)({},e))},we=function(){return Ne.delete("auth/login")},Ie=function(){return Ne.get("auth/me")},ke=function(){return Ne.get("security/get-captcha-url")},ye=function(e,t){return Ne.get("users?count=".concat(e,"&page=").concat(t)).then((function(e){return e.data}))},je=function(e){return Ne.get("profile/".concat(e))},Se=function(e){return Ne.get("profile/status/".concat(e))},xe=function(e){return Ne.put("profile/status",{status:e})},Ue=function(e){var t=new FormData;return t.append("image",e),Ne.put("profile/photo",t)},Te=function(e){return Ne.put("profile",e)},Pe=function(e){return Ne.post("follow/".concat(e)).then((function(e){return e.data}))},Ce=function(e){return Ne.delete("follow/".concat(e)).then((function(e){return e.data}))},Le=a(13),Ae=function(){return function(){var e=Object(ie.a)(se.a.mark((function e(t){var a,n;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie();case 2:if(0!==(a=e.sent).data.resultCode){e.next=11;break}return t(de(!0)),t(me(a.data.data.id)),t(fe(a.data.data)),e.next=9,je(a.data.data.id);case 9:n=e.sent,t(ge(n.data));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},De=function(){return function(){var e=Object(ie.a)(se.a.mark((function e(t){var a;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke();case 2:a=e.sent,t({type:"SET-CAPTCHA-URL",captchaUrl:a.data.url});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Fe=function(e){return e.auth.isLoggedIn},Me=function(e){return e.auth.currentUserDetails},Re=function(e){return e.auth.currentUserInfo},Be=function(e){return e.auth.loginProcessStatus},Ge=function(e){return e.auth.captchaUrl},Je=function(e){return e.app.isInitialized},ze=function(e){return e.navBar.friends},We=function(e){return function(t){return e.usersPage.getName(t)}},He=function(e){return function(t){return e.usersPage.getAvatar(t)}},qe=function(e){return e.usersPage.serverUsersList},Ve=function(e){return e.usersPage.shownUsersNumber},Ze=function(e){return e.usersPage.usersTotal},Ke=function(e){return e.usersPage.currentPage},Qe=function(e){return e.usersPage.inFollowingProgress},Xe=function(e){return e.usersPage.isLoading},Ye=function(e){return e.profilePage.authorizedUser},$e=function(e){return e.profilePage.shownUser},et=function(e){return e.profilePage.loggedUser},tt=function(e){return e.profilePage.currentUserInfo},at=function(e){return e.profilePage.currentUserStatus},nt=function(e){return e.profilePage.postsList},rt=function(e){return e.profilePage.isPhotoUploading},ot=function(e){return e.profilePage.isProfileUpdating},st=function(e){return e.messagesPage.currentDialog},it=function(e){return e.messagesPage.usersDialogs},ct=function(e){return function(t){return e.messagesPage.getDialog(t)}},lt=function(e){Object(K.a)(a,e);var t=Object(Q.a)(a);function a(){var e;Object(V.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).logout=function(){e.props.logoutUser()},e}return Object(Z.a)(a,[{key:"render",value:function(){return o.a.createElement(re,{logout:this.logout,isLoggedIn:this.props.isLoggedIn,userDetails:this.props.userDetails})}}]),a}(r.Component),ut=Object(u.d)(Object(l.b)((function(e){return{isLoggedIn:Fe(e),userDetails:Me(e)}}),{logoutUser:function(){return function(){var e=Object(ie.a)(se.a.mark((function e(t){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we();case 2:0===e.sent.data.resultCode&&(t(me(null)),t(de(!1)),t(fe(null)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}))(lt),mt=a(120),dt=a.n(mt),pt=a(85),ft=a.n(pt),gt=function(e){return o.a.createElement("li",{className:ft.a.item},o.a.createElement(c.b,{to:e.to,className:ft.a.itemLink,activeClassName:ft.a.active},e.linkname))},bt=a(86),_t=a.n(bt),ht=a(87),Et=a.n(ht),vt=function(e){return o.a.createElement(c.b,{to:"/profile",className:Et.a.item},o.a.createElement("div",{className:Et.a.avatar},o.a.createElement("img",{src:e.image,alt:"img"})),o.a.createElement("div",{className:Et.a.name},e.name))},Nt=function(e){var t=e.friendsList,a=function(t){return e.getAvatar(t)};return o.a.createElement("div",{className:_t.a.friendsBar},o.a.createElement("h3",{className:_t.a.title},"Friends"),o.a.createElement("div",{className:_t.a.items},t.map((function(t){return o.a.createElement(vt,{key:t.userId,name:(n=t.userId,e.getName(n)),image:a(t.userId)});var n}))))},Ot=Object(l.b)((function(e){return{friendsList:ze(e),getName:We(e),getAvatar:He(e)}}))(Nt),wt=function(){return o.a.createElement("nav",{className:dt.a.nav},o.a.createElement("ul",{className:dt.a.list},o.a.createElement(gt,{to:"/profile",linkname:"Profile"}),o.a.createElement(gt,{to:"/dialogs",linkname:"Messages"}),o.a.createElement(gt,{to:"/users",linkname:"Users"}),o.a.createElement(gt,{to:"/news",linkname:"News"}),o.a.createElement(gt,{to:"/music",linkname:"Music"}),o.a.createElement(gt,{to:"/settings",linkname:"Settings"})),o.a.createElement(Ot,null))},It=a(12),kt=a(178),yt=a.n(kt),jt=a(179),St=a.n(jt),xt=a(171),Ut=a(39),Tt=a.n(Ut),Pt=a(170),Ct=a(180),Lt=a.n(Ct),At=function(e){return o.a.createElement("button",{type:e.type,onClick:e.onClick,className:"".concat(Lt.a.createButton," ").concat(e.addClass),disabled:e.disabled},e.buttonName)},Dt=a(121),Ft=a.n(Dt),Mt=function(){return o.a.createElement("div",{className:Ft.a.separator},o.a.createElement("div",{className:Ft.a.line}))},Rt=a(46),Bt=a(25),Gt=a.n(Bt),Jt=function(e){var t=e.input,a=e.meta,n=Object(Rt.a)(e,["input","meta"]),r=a.error&&a.touched,s=r?"".concat(a.error):"";return o.a.createElement("div",{className:Gt.a.inputItem},o.a.createElement("label",{className:Gt.a.inputLabel+(r?" "+Gt.a.errorLabel:""),htmlFor:n.id},n.label),o.a.createElement("input",Object.assign({},t,{className:Gt.a.input+(r?" "+Gt.a.errorInput:""),placeholder:n.placeholder,name:n.name,id:n.id,type:n.type})),o.a.createElement("div",{className:Gt.a.errorMessage},s))},zt=function(e){var t=e.input,a=e.meta,n=Object(Rt.a)(e,["input","meta"]),r=a.error&&a.touched,s=r?"".concat(a.error):"";return o.a.createElement("div",{className:Gt.a.captcha},o.a.createElement("div",{className:Gt.a.captchaTitle},"Enter symbols from the image:"),o.a.createElement("img",{className:Gt.a.captchaImage,src:n.image,alt:"captcha"}),o.a.createElement("input",Object.assign({},t,{className:Gt.a.captchaInput+(r?" "+Gt.a.errorInput:""),name:n.name,type:"text"})),o.a.createElement("div",{className:Gt.a.captchaErrorMessage},s))},Wt=function(e){return function(t){return t?void 0:e}},Ht=function(e){if(!e.includes("@"))return"Email must include '@' symbol!"},qt=function(e){var t=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");if(e&&!t.test(e))return"Not a valid URL!"},Vt=(n=8,function(e){if(e&&e.length>0&&e.length<n)return"Min length is ".concat(n," symbols!")}),Zt=Wt("Enter your password!"),Kt=Wt("Enter your email!"),Qt=Wt("Enter the code!"),Xt=function(e){return o.a.createElement("form",{className:Tt.a.loginForm,onSubmit:e.handleSubmit},o.a.createElement("h2",{className:Tt.a.title},"Login"),o.a.createElement(Mt,null),o.a.createElement("div",{className:Tt.a.formError},e.error?e.error+"!":""),o.a.createElement(Pt.a,{placeholder:"Enter your email",component:Jt,name:"email",label:"Email",id:"email",type:"text",validate:[Kt,Ht]}),o.a.createElement(Pt.a,{placeholder:"Enter your password",component:Jt,name:"password",label:"Password",id:"password",type:"password",validate:[Zt,Vt]}),e.captchaUrl&&o.a.createElement(Pt.a,{component:zt,validate:[Qt],name:"captcha",image:e.captchaUrl}),o.a.createElement("div",{className:Tt.a.rememberMe},o.a.createElement(Pt.a,{className:Tt.a.input,name:"rememberMe",id:"rememberMe",component:"input",type:"checkBox"}),o.a.createElement("label",{className:Tt.a.inputLabel,htmlFor:"rememberMe"},"Remember Me")),o.a.createElement(At,{type:"submit",addClass:Tt.a.submitButton,buttonName:"Submit",disabled:e.inSubmit}))},Yt=Object(xt.a)({form:"loginForm"})(Xt),$t=function(e){return o.a.createElement("div",{className:St.a.loginPage},o.a.createElement(Yt,{captchaUrl:e.captchaUrl,onSubmit:function(t){e.loginUser(t)},inSubmit:e.inSubmit}))},ea=function(e){Object(K.a)(a,e);var t=Object(Q.a)(a);function a(){return Object(V.a)(this,a),t.apply(this,arguments)}return Object(Z.a)(a,[{key:"render",value:function(){return this.props.isLoggedIn?o.a.createElement(It.a,{to:"/profile"}):o.a.createElement($t,{loginUser:this.props.loginUser,inSubmit:this.props.loginProcessStatus,captchaUrl:this.props.captchaUrl})}}]),a}(r.Component),ta=Object(u.d)(Object(l.b)((function(e){return{isLoggedIn:Fe(e),loginProcessStatus:Be(e),captchaUrl:Ge(e)}}),{loginUser:function(e){return function(){var t=Object(ie.a)(se.a.mark((function t(a){var n;return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(pe(!0)),t.next=3,Oe(e);case 3:0===(n=t.sent).data.resultCode?a(Ae()):10===n.data.resultCode?a(De()):a(Object(Le.b)("loginForm",{_error:n.data.messages[0]})),a(pe(!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}))(ea),aa=function(e){var t=function(t){Object(K.a)(n,t);var a=Object(Q.a)(n);function n(){return Object(V.a)(this,n),a.apply(this,arguments)}return Object(Z.a)(n,[{key:"render",value:function(){return this.props.isLoggedIn?o.a.createElement(e,this.props):o.a.createElement(It.a,{to:"/login"})}}]),n}(o.a.Component);return Object(l.b)((function(e){return{isLoggedIn:Fe(e)}}))(t)},na=a(47),ra=a.n(na),oa=a(26),sa=a.n(oa),ia=a(124),ca=a.n(ia),la=function(e){return o.a.createElement("div",{className:ca.a.item},e.info,o.a.createElement("span",{className:ca.a.data},e.data||"Information not specified"))},ua=a(45),ma=function(e){var t=e.contacts,a=e.visible,n=Object.keys(t),r=n.filter((function(e){return t[e]})).length>0,s=n.map((function(e){return t[e]?o.a.createElement("li",{key:e,className:sa.a.contactItem},e,":",o.a.createElement("a",{href:t[e],className:sa.a.contactData,target:"_blank",rel:"noopener noreferrer"},t[e])):null}));return o.a.createElement("div",{className:"".concat(sa.a.contactsBlock," ").concat(a&&sa.a.blockShown)},r?s:o.a.createElement("span",{className:sa.a.noInfo},"Information not specified"))},da=function(e){var t=Object(r.useState)(!1),a=Object(ua.a)(t,2),n=a[0],s=a[1];return o.a.createElement("div",{className:sa.a.contacts},o.a.createElement("span",{onClick:function(){s((function(e){return!e}))},className:sa.a.title,title:"Show contacts"},"Contacts",o.a.createElement("i",{className:"".concat(sa.a.arrow," ").concat(n&&sa.a.arrowShown)})),o.a.createElement(ma,{contacts:e.contacts,visible:n}))},pa=function(e){return o.a.createElement("div",{className:sa.a.infoList},o.a.createElement(la,{info:"About me:",data:e.info.aboutMe}),o.a.createElement(la,{info:"Professional skills:",data:e.info.lookingForAJobDescription}),o.a.createElement(da,{contacts:e.info.contacts}))},fa=a(125),ga=a.n(fa),ba=function(e){return o.a.createElement("div",{className:"".concat(ga.a.loaderContainer," ").concat(e.extraClass)},o.a.createElement("div",{className:ga.a.loader},o.a.createElement("div",null)))},_a=a(84),ha=a.n(_a),Ea=a(89),va=a.n(Ea),Na=a(90),Oa=a.n(Na),wa=function(e){var t=Object(r.useRef)(null),a=function(a){t.current.contains(a.target)||e.onClickAway()};return Object(r.useEffect)((function(){return window.addEventListener("click",a),function(){window.removeEventListener("click",a)}}),[]),o.a.createElement("div",{className:Oa.a.statusEdit,ref:t},o.a.createElement("input",{maxLength:"50",className:Oa.a.statusInput,placeholder:"What's new?",type:"text",value:e.status,autoFocus:!0,onChange:function(t){e.onChange(t.currentTarget.value)}}),o.a.createElement(At,{onClick:e.onClick,buttonName:"Save",addClass:Oa.a.button}))},Ia=function(e){var t=Object(r.useState)(!1),a=Object(ua.a)(t,2),n=a[0],s=a[1],i=Object(r.useState)(e.status),c=Object(ua.a)(i,2),l=c[0],u=c[1];Object(r.useEffect)((function(){u(e.status)}),[e.status]);var m=function(){e.isOwner&&(n&&e.updateStatus(l),s((function(e){return!e})))};return o.a.createElement("div",{className:va.a.statusBox},n?o.a.createElement(wa,{status:l,onClickAway:function(){u(e.status),s(!1)},onClick:m,onChange:function(e){return u(e)}}):o.a.createElement("div",{className:va.a.status,onClick:m},o.a.createElement("p",{className:va.a.statusText},e.status||"This user has no status yet...")))},ka=function(e){var t=e.currentUserInfo,a=e.authorizedUser===e.shownUser;return!t||e.isLoading?o.a.createElement(ba,{extraClass:ra.a.preloader}):o.a.createElement("div",{className:ra.a.profile},o.a.createElement("div",{className:ra.a.avatar,href:"/"},o.a.createElement("img",{src:t.photos.large||ha.a,className:"avatar",alt:"avatar"}),a&&o.a.createElement(c.b,{to:"/settings"},o.a.createElement("div",{className:ra.a.updateProfile},"Update profile"))),o.a.createElement("div",{className:ra.a.details},o.a.createElement("h3",{className:ra.a.userName},t.fullName),o.a.createElement(Ia,{isOwner:a,status:e.currentUserStatus,updateStatus:e.updateCurrentUserStatus}),o.a.createElement(pa,{info:t})))},ya=function(e){Object(K.a)(a,e);var t=Object(Q.a)(a);function a(){return Object(V.a)(this,a),t.apply(this,arguments)}return Object(Z.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;this.props.getUserProfile(e,this.props.authorizedUser),this.props.getCurrentUserStatus(e||this.props.authorizedUser)}},{key:"componentDidUpdate",value:function(e){var t=this.props.match.params.userId;e.match.params.userId===t||t||(this.props.getUserProfile(null,this.props.authorizedUser),this.props.getCurrentUserStatus(this.props.authorizedUser))}},{key:"render",value:function(){return o.a.createElement(ka,Object.assign({},this.props,{shownUser:this.props.shownUser}))}}]),a}(r.Component),ja={getUserProfile:function(e,t){return function(){var a=Object(ie.a)(se.a.mark((function a(n){var r,o,s;return se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r=e||t,n(ue(!0)),r){a.next=7;break}return a.next=5,Ie();case 5:0===(o=a.sent).data.resultCode&&(r=o.data.data.id);case 7:return a.next=9,je(r);case 9:s=a.sent,n({type:"SET-CURRENT-USER-INFO",user:s.data}),n(ue(!1));case 12:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},getCurrentUserStatus:function(e,t){return function(){var a=Object(ie.a)(se.a.mark((function a(n){var r,o,s;return se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r=e||t){a.next=6;break}return a.next=4,Ie();case 4:0===(o=a.sent).data.resultCode&&(r=o.data.data.id);case 6:return a.next=8,Se(r);case 8:s=a.sent,n(_e(s.data));case 10:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},updateCurrentUserStatus:function(e){return function(){var t=Object(ie.a)(se.a.mark((function t(a){return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,xe(e);case 2:0===t.sent.data.resultCode&&a(_e(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},authUser:Ae},Sa=Object(u.d)(Object(l.b)((function(e){return{authorizedUser:Ye(e),shownUser:$e(e),currentUserInfo:tt(e),currentUserStatus:at(e),isLoading:Xe(e)}}),ja),It.f)(ya),xa=a(56),Ua=a.n(xa),Ta=function(e){return o.a.createElement("form",{onSubmit:e.handleSubmit},o.a.createElement(Pt.a,{placeholder:"Share what you want...",name:"postText",className:Ua.a.newText,component:"textarea"}),o.a.createElement(At,{addClass:Ua.a.button,buttonName:"Post"}))},Pa=Object(xt.a)({form:"addPostForm"})(Ta),Ca=function(e){return o.a.createElement("div",{className:Ua.a.createPost},o.a.createElement("h2",{className:Ua.a.title},"What's new?"),o.a.createElement(Pa,{onSubmit:function(t){e.addPost(t.postText),e.reset("addPostForm")}}))},La=Object(l.b)((function(e){return{}}),{addPost:function(e){return{type:"ADD-POST",postText:e}},reset:Le.a})(Ca),Aa=a(126),Da=a.n(Aa),Fa=a(40),Ma=a.n(Fa),Ra=function(e){return o.a.createElement("div",{className:Ma.a.postItem},o.a.createElement("div",{className:Ma.a.author},o.a.createElement("div",{className:Ma.a.authorAvatar},o.a.createElement("img",{className:"avatar",src:e.authorAvatar,alt:"user avatar"})),o.a.createElement("div",{className:Ma.a.details},o.a.createElement("h3",{className:Ma.a.name},e.authorName),o.a.createElement("p",{className:Ma.a.time},e.time))),o.a.createElement("div",{className:Ma.a.body},o.a.createElement("p",null,e.text)))},Ba=function(e){var t=Object(g.a)(e.posts).reverse().map((function(t){return o.a.createElement(Ra,{key:t.postId,authorName:e.getName(t.authorId),authorAvatar:e.getAvatar(t.authorId),time:t.time,text:t.text})}));return o.a.createElement("div",{className:Da.a.posts},o.a.createElement("h2",{className:Da.a.title},"current posts"),t)},Ga=Object(l.b)((function(e){return{posts:nt(e),getName:We(e),getAvatar:He(e)}}))(Ba),Ja=function(e){return o.a.createElement("div",{className:"profilepage"},o.a.createElement(Sa,null),o.a.createElement(La,null),o.a.createElement(Ga,null))},za=Object(u.d)(aa,(function(e){return function(t){Object(K.a)(n,t);var a=Object(Q.a)(n);function n(){return Object(V.a)(this,n),a.apply(this,arguments)}return Object(Z.a)(n,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){return o.a.createElement(e,this.props)}}]),n}(o.a.Component)}))(Ja),Wa=a(181),Ha=a.n(Wa),qa=function(){return o.a.createElement("div",{className:Ha.a.music},"Music")},Va=a(182),Za=a.n(Va),Ka=function(){return o.a.createElement("div",{className:Za.a.news},"News")},Qa=a(69),Xa=a.n(Qa),Ya=a(183),$a=a.n(Ya),en=a(184),tn=a.n(en),an=function(e){return o.a.createElement(c.b,{to:"/profile/".concat(e.id),className:tn.a.avatar},o.a.createElement("img",{src:e.avatar,alt:"avatar"}))},nn=a(91),rn=a.n(nn),on=a(127),sn=a.n(on),cn=a(48),ln=a.n(cn),un=function(e){return o.a.createElement("div",{className:ln.a.loading},o.a.createElement("div",{style:{backgroundColor:e.backgroundColor},className:ln.a.loadingItem}),o.a.createElement("div",{style:{backgroundColor:e.backgroundColor},className:ln.a.loadingItem}),o.a.createElement("div",{style:{backgroundColor:e.backgroundColor},className:ln.a.loadingItem}),o.a.createElement("div",{style:{backgroundColor:e.backgroundColor},className:ln.a.loadingItem}),o.a.createElement("div",{style:{backgroundColor:e.backgroundColor},className:ln.a.loadingItem}))},mn=function(e){var t;return o.a.createElement("button",{className:"".concat(sn.a.followButton).concat((t=e.isFollowed,t?" ".concat(sn.a.followed):"")),onClick:e.onClick,disabled:e.disabled},e.disabled?o.a.createElement(un,{backgroundColor:"#353b48"}):function(e){return e?"unfollow":"follow"}(e.isFollowed))},dn=function(e){return o.a.createElement("div",{className:rn.a.info},o.a.createElement(c.b,{to:"/profile/".concat(e.id),className:rn.a.name},e.fullName),o.a.createElement("p",{className:rn.a.status},e.status),o.a.createElement(mn,{disabled:e.inFollowingProgress.includes(e.id),isFollowed:e.followed,onClick:e.onClick}))},pn=function(e){return o.a.createElement("div",{className:$a.a.item},o.a.createElement(an,{avatar:e.avatar,id:e.id}),o.a.createElement(dn,{id:e.id,fullName:e.fullName,status:e.status,followed:e.followed,onClick:e.toggleFollow,inFollowingProgress:e.inFollowingProgress}))},fn=a(49),gn=a.n(fn),bn=function(e){var t,a=[],n=e.pagesToShow||10,r=Math.ceil(e.usersTotal/e.shownUsersNumber);t=e.currentPage<n?1:e.currentPage>r-n?r-n:e.currentPage-n/2;for(var s=t;s<=t+n;s++)a.push(s);return o.a.createElement("div",{className:gn.a.pagesBar},o.a.createElement("button",{className:gn.a.button,onClick:function(){return e.switchPage(1)},disabled:1===t},"First"),o.a.createElement("div",{className:gn.a.pages},a.map((function(t){return o.a.createElement("span",{key:t,className:"".concat(gn.a.pageNumber).concat((a=t,e.currentPage===a?" "+gn.a.picked:"")),onClick:function(){return e.switchPage(t)}},t);var a}))),o.a.createElement("button",{className:gn.a.button,onClick:function(){return e.switchPage(r)},disabled:e.currentPage>r-n},"Last"))},_n=function(e){var t=e.users.map((function(t){return o.a.createElement(pn,{key:t.id,inFollowingProgress:e.inFollowingProgress,fullName:t.name,id:t.id,avatar:t.photos.large||ha.a,followed:t.followed,status:t.status||"This user has no status yet...",toggleFollow:function(){return e.toggleFollow(t.followed,t.id)}})}));return o.a.createElement("div",{className:Xa.a.users},o.a.createElement("h2",{className:Xa.a.title},"users"),o.a.createElement(bn,{currentPage:e.currentPage,switchPage:function(t){return e.onPageChanged(t)},usersTotal:e.usersTotal,shownUsersNumber:e.shownUsersNumber}),o.a.createElement("div",{className:Xa.a.usersList},e.isLoading?o.a.createElement(ba,{extraClass:Xa.a.preloader}):t))},hn=function(e){Object(K.a)(a,e);var t=Object(Q.a)(a);function a(){var e;Object(V.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onPageChanged=function(t){e.props.changePage(t,e.props.stateInfo.shownUsersNumber)},e}return Object(Z.a)(a,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.stateInfo.shownUsersNumber)}},{key:"render",value:function(){return o.a.createElement(_n,Object.assign({},this.props.stateInfo,{toggleFollow:this.props.toggleFollow,onPageChanged:this.onPageChanged}))}}]),a}(o.a.Component),En={toggleFollow:function(e,t){return function(){var a=Object(ie.a)(se.a.mark((function a(n){return se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n(be(t,!0)),!e){a.next=7;break}return a.next=4,Ce(t);case 4:a.t0=a.sent,a.next=10;break;case 7:return a.next=9,Pe(t);case 9:a.t0=a.sent;case 10:0===a.t0.resultCode&&(n(ce(t)),n(be(t,!1)));case 12:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},changePage:function(e,t){return function(){var a=Object(ie.a)(se.a.mark((function a(n){var r;return se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"SWITCH-PAGE",number:e}),n(ue(!0)),a.next=4,ye(t,e);case 4:r=a.sent,n(le(r.items)),n(ue(!1));case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},getUsers:function(e){return function(){var t=Object(ie.a)(se.a.mark((function t(a){var n;return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(ue(!0)),a({type:"TO-FIRST-PAGE"}),t.next=4,ye(e,1);case 4:n=t.sent,a({type:"SET-USERS-TOTAL",number:n.totalCount}),a(le(n.items)),a(ue(!1));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},vn=Object(u.d)(Object(l.b)((function(e){return{stateInfo:{users:qe(e),shownUsersNumber:Ve(e),usersTotal:Ze(e),currentPage:Ke(e),isLoading:Xe(e),inFollowingProgress:Qe(e)}}}),En),aa)(hn),Nn=a(70),On=a.n(Nn),wn=a(128),In=a.n(wn),kn=a(50),yn=a.n(kn),jn=function(e){return o.a.createElement(c.b,{to:"/dialogs/id=".concat(e.userId),activeClassName:yn.a.active,className:yn.a.item,onClick:function(){return e.onClick(e.userId)}},o.a.createElement("div",{className:yn.a.user},o.a.createElement("img",{className:yn.a.userAvatar,src:e.avatar,alt:""})),o.a.createElement("h4",{className:yn.a.userName},e.name),o.a.createElement("p",{className:yn.a.lastMessage},e.lastMessage))};function Sn(e){var t=e[e.length-1].text;return t.length>30?t.slice(0,30)+"...":t}var xn=function(e){var t=e.dialogs.map((function(t){return o.a.createElement(jn,{onClick:e.setCurrentDialogId,key:t.userId,userId:t.userId,name:e.getName(t.userId),avatar:e.getAvatar(t.userId),lastMessage:Sn(t.messagesHistory)})}));return o.a.createElement("div",{className:In.a.dialogs},o.a.createElement("h3",{className:In.a.title},"Recent dialogs"),t)},Un=function(e){Object(K.a)(a,e);var t=Object(Q.a)(a);function a(){return Object(V.a)(this,a),t.apply(this,arguments)}return Object(Z.a)(a,[{key:"componentWillUnmount",value:function(){this.props.setCurrentDialogId(null)}},{key:"componentDidMount",value:function(){this.props.setCurrentDialogId(null)}},{key:"render",value:function(){return o.a.createElement(xn,this.props)}}]),a}(r.Component),Tn={setCurrentDialogId:function(e){return{type:"SET-CURRENT-DIALOG-ID",id:e}}},Pn=Object(u.d)(Object(l.b)((function(e){return{dialogs:it(e),getName:We(e),getAvatar:He(e)}}),Tn))(Un),Cn=a(129),Ln=a.n(Cn),An=a(92),Dn=a.n(An),Fn=a(93),Mn=a.n(Fn),Rn=function(e){return o.a.createElement("div",{className:"".concat(Mn.a.message," ").concat(e.isSelfMessage)},o.a.createElement("div",{className:Mn.a.avatar},o.a.createElement(c.b,{to:"/profile"},o.a.createElement("img",{src:e.avatar,alt:""}))),o.a.createElement("p",{className:Mn.a.item},e.text))},Bn=a(185),Gn=a.n(Bn),Jn=function(e){var t=e.getDialog(e.currentDialog),a=Object(g.a)(t).reverse(),n=a.map((function(t){return o.a.createElement(Rn,{key:t.time,text:t.text,avatar:e.getAvatar(t.id),isSelfMessage:(a=t.id,n=e.idSelf,a===n&&Dn.a.selfMessage)});var a,n}));return o.a.createElement(Gn.a,{className:Dn.a.messagesBody},o.a.createElement("div",{className:Dn.a.messagesList},n))},zn=Object(l.b)((function(e){return{dialogs:it(e),currentDialog:st(e),idSelf:et(e),getAvatar:He(e),getDialog:ct(e)}}))(Jn),Wn=a(68),Hn=a.n(Wn),qn=function(e){return o.a.createElement("form",{onSubmit:e.handleSubmit},o.a.createElement(Pt.a,{placeholder:"Type your message...",name:"messageText",className:Hn.a.messageField,component:"textarea"}),o.a.createElement(At,{addClass:Hn.a.button,buttonName:"Send"}))},Vn=Object(xt.a)({form:"sendMessageForm"})(qn),Zn=function(e){return o.a.createElement("div",{className:Hn.a.newMessage},o.a.createElement(Vn,{onSubmit:function(t){e.sendMessage(t.messageText),e.reset("sendMessageForm")}}))},Kn=Object(l.b)(null,{sendMessage:function(e){return{type:"SEND-MESSAGE",message:e}},reset:Le.a})(Zn),Qn=function(e){var t=e.currentDialog?e.getName(e.currentDialog):"";return t?o.a.createElement("div",{className:Ln.a.messages},o.a.createElement("h4",{className:Ln.a.title},t),o.a.createElement(zn,null),o.a.createElement(Kn,null)):o.a.createElement(o.a.Fragment,null)},Xn=Object(l.b)((function(e){return{currentDialog:st(e),getName:We(e)}}))(Qn),Yn=function(){return o.a.createElement("div",{className:On.a.noDialog},o.a.createElement("h4",{className:On.a.noDialogTitle},"Choose a dialog to start..."),o.a.createElement(ba,{extraClass:On.a.preloader}))},$n=function(e){return o.a.createElement("div",{className:On.a.dialogs},o.a.createElement(Pn,null),o.a.createElement(It.b,{path:"/dialogs/",render:function(){return o.a.createElement(Xn,null)}}),e.currentDialogId?null:o.a.createElement(Yn,null))},er=Object(u.d)(Object(l.b)((function(e){return{currentDialogId:st(e)}})),aa)($n),tr=a(130),ar=a.n(tr),nr=a(186),rr=a.n(nr),or=a(20),sr=a.n(or),ir=function(e){var t=e.input,a=e.meta,n=Object(Rt.a)(e,["input","meta"]),r=a.error&&a.touched,s=r?"".concat(a.error):"";return o.a.createElement("div",{className:sr.a.inputItem},o.a.createElement("div",{className:sr.a.inputTitle},n.inputName),o.a.createElement("input",Object.assign({},t,{className:sr.a.input+(r?" "+sr.a.errorInput:""),placeholder:n.placeholder,name:n.name,id:n.id,type:n.type})),o.a.createElement("div",{className:sr.a.errorMessage},s))},cr=function(e){var t=e.input,a=e.meta,n=Object(Rt.a)(e,["input","meta"]),r=a.error&&a.touched,s=r?"".concat(a.error):"";return o.a.createElement("div",{className:sr.a.textareaItem},o.a.createElement("div",{className:sr.a.textareaTitle},n.areaName),o.a.createElement("textarea",Object.assign({maxLength:n.maxLength},t,{className:sr.a.textarea+(r?" "+sr.a.errorInput:""),placeholder:n.placeholder,name:n.name})),o.a.createElement("div",{className:sr.a.errorMessage},s))},lr=function(e){var t=e.input,a=(e.meta,Object(Rt.a)(e,["input","meta"]));return o.a.createElement("div",{className:sr.a.checkboxItem},o.a.createElement("label",{className:sr.a.checkboxLabel,htmlFor:a.id},a.label),o.a.createElement("input",Object.assign({},t,{className:sr.a.checkbox,placeholder:a.placeholder,name:a.name,id:a.id,type:"checkbox",checked:a.checked})))},ur=a(131),mr=a.n(ur),dr=function(e){var t=e.contacts;return o.a.createElement("div",{className:mr.a.contacts},o.a.createElement("div",{className:mr.a.title},"Contacts:"),Object.keys(t).map((function(e){return o.a.createElement(Pt.a,{key:e,component:ir,name:"contacts."+e,inputName:e,type:"text",validate:[qt]})})))},pr=Wt("Enter your name!"),fr=Wt("This information is required!"),gr=function(e){return o.a.createElement("button",{className:rr.a.save,onClick:e.onClick,disabled:e.isUpdating},e.isUpdating?o.a.createElement(un,{backgroundColor:"#333"}):"Save")},br=Object(xt.a)({form:"updateProfile"})((function(e){return o.a.createElement("form",{onSubmit:e.handleSubmit},o.a.createElement(Pt.a,{component:ir,name:"fullName",inputName:"Name:",id:"fullName",type:"text",validate:[pr]}),o.a.createElement(Pt.a,{maxLength:"200",component:cr,name:"aboutMe",areaName:"About me:",validate:[fr]}),o.a.createElement(Pt.a,{maxLength:"200",component:cr,name:"lookingForAJobDescription",areaName:"Professional skills:",validate:[fr]}),o.a.createElement(Pt.a,{checked:e.userInfo.lookingForAJob,component:lr,name:"lookingForAJob",id:"lookingForAJob",label:"Looking for a job:"}),o.a.createElement(gr,{onClick:e.onClick,isUpdating:e.isUpdating}),o.a.createElement(dr,{contacts:e.userInfo.contacts}),o.a.createElement(gr,{onClick:e.onClick,isUpdating:e.isUpdating}))})),_r=a(33),hr=a.n(_r),Er=function(e){return o.a.createElement("div",{className:hr.a.uploadPhoto},o.a.createElement("div",{className:hr.a.title},"Upload Photo:"),o.a.createElement("div",{className:hr.a.upload},o.a.createElement("div",{className:hr.a.preview},o.a.createElement("img",{src:e.photo?URL.createObjectURL(e.photo):e.currentUserPhoto,className:hr.a.photoPreview,alt:"upload"}),o.a.createElement("label",{className:hr.a.label},o.a.createElement("div",{className:hr.a.choosePhoto},"Choose a photo"),o.a.createElement("input",{type:"file",onChange:e.onChange}))),o.a.createElement("button",{className:hr.a.uploadButton,onClick:e.onClick,disabled:e.isUploading},e.isUploading?o.a.createElement(un,{backgroundColor:"#353b48"}):"Upload")))},vr=function(e){var t=Object(r.useState)(null),a=Object(ua.a)(t,2),n=a[0],s=a[1];return o.a.createElement("div",{className:ar.a.settings},o.a.createElement("h2",{className:ar.a.title},"settings"),o.a.createElement(Er,{onChange:function(e){s(e.target.files[0])},onClick:function(){n&&e.uploadPhoto(n)},photo:n,currentUserPhoto:e.userInfo.photos.large,isUploading:e.isPhotoUploading}),o.a.createElement(br,{onSubmit:function(t){e.updateProfile(t)},initialValues:e.userInfo,userInfo:e.userInfo,isUpdating:e.isProfileUpdating}))},Nr=Object(u.d)(Object(l.b)((function(e){return{userInfo:Re(e),isPhotoUploading:rt(e),isProfileUpdating:ot(e)}}),{uploadPhoto:function(e){return function(){var t=Object(ie.a)(se.a.mark((function t(a){var n;return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(he(!0)),t.next=3,Ue(e);case 3:0===(n=t.sent).data.resultCode&&a(ge(n.data)),a(he(!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateProfile:function(e){return function(){var t=Object(ie.a)(se.a.mark((function t(a){var n;return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(Ee(!0)),t.next=3,Te(e);case 3:0===(n=t.sent).data.resultCode?a(Ae()):a(Object(Le.b)("updateProfile",{_error:n.data.messages[0]})),a(Ee(!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),aa)(vr),Or=function(){return o.a.createElement("main",{className:yt.a.main},o.a.createElement(It.b,{path:"/login",render:function(){return o.a.createElement(ta,null)}}),o.a.createElement(It.b,{path:"/profile/:userId?",render:function(){return o.a.createElement(za,null)}}),o.a.createElement(It.b,{path:"/dialogs/",render:function(){return o.a.createElement(er,null)}}),o.a.createElement(It.b,{path:"/users",render:function(){return o.a.createElement(vn,null)}}),o.a.createElement(It.b,{path:"/news",render:function(){return o.a.createElement(Ka,null)}}),o.a.createElement(It.b,{path:"/music",render:function(){return o.a.createElement(qa,null)}}),o.a.createElement(It.b,{path:"/settings",render:function(){return o.a.createElement(Nr,null)}}))},wr=a(132),Ir=a.n(wr),kr=function(){return o.a.createElement("footer",{className:Ir.a.footer},o.a.createElement("p",{className:Ir.a.info},"THIS IS FOOTER"))},yr=function(e){return o.a.createElement("div",{className:"app-wrapper"},o.a.createElement(ut,null),o.a.createElement(wt,null),o.a.createElement(Or,null),o.a.createElement(kr,null))},jr=a(94),Sr=a.n(jr),xr=function(){return o.a.createElement("div",{className:Sr.a.preloader},o.a.createElement("h1",{className:Sr.a.title},"Loading..."),o.a.createElement("div",{className:Sr.a.loader}))},Ur=function(e){Object(K.a)(a,e);var t=Object(Q.a)(a);function a(){return Object(V.a)(this,a),t.apply(this,arguments)}return Object(Z.a)(a,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.isInitialized?o.a.createElement(yr,null):o.a.createElement(xr,null)}}]),a}(o.a.Component),Tr=Object(u.d)(Object(l.b)((function(e){return{isInitialized:Je(e)}}),{initializeApp:function(){return function(e){var t=e(Ae());Promise.all([t]).then((function(){e({type:"SET-INITIALIZATION-STATUS"})}))}}}))(Ur),Pr=function(){i.a.render(o.a.createElement(c.a,null,o.a.createElement(l.a,{store:q},o.a.createElement(Tr,null))),document.getElementById("root"))};window.store=q,Pr(),q.subscribe(Pr),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},39:function(e,t,a){e.exports={loginForm:"loginform_loginForm__2OkPe",title:"loginform_title__32Dpe",rememberMe:"loginform_rememberMe__1ppKN",submitButton:"loginform_submitButton__1-6ce",formError:"loginform_formError__3fP69"}},40:function(e,t,a){e.exports={postItem:"postitem_postItem__22ddw",author:"postitem_author__3mfpj",authorAvatar:"postitem_authorAvatar__gJ6UV",time:"postitem_time__3tMHJ",body:"postitem_body__257Wx"}},47:function(e,t,a){e.exports={profile:"profile_profile__2CN2h",avatar:"profile_avatar__3Cujw",updateProfile:"profile_updateProfile__w8NE9",userName:"profile_userName__2aBdB",status:"profile_status__1jbvg",details:"profile_details__2O7Q9",preloader:"profile_preloader__37YeC"}},48:function(e,t,a){e.exports={loading:"buttonloading_loading__2W8Z9",loadingItem:"buttonloading_loadingItem__2WzJQ"}},49:function(e,t,a){e.exports={pagesBar:"pages_pagesBar__3b1xg",pages:"pages_pages__23RJ8",pageNumber:"pages_pageNumber__1XW9N",picked:"pages_picked__1VBpq",button:"pages_button__aVHgs"}},50:function(e,t,a){e.exports={item:"dialogsitem_item__1GNU5",active:"dialogsitem_active__lJInv",user:"dialogsitem_user__3fKSf",userAvatar:"dialogsitem_userAvatar__3xwDj",userName:"dialogsitem_userName__3-ADc",lastMessage:"dialogsitem_lastMessage__NkGp_"}},56:function(e,t,a){e.exports={createPost:"postcreate_createPost__3KPVB",title:"postcreate_title__tu8yn",createButton:"postcreate_createButton__jov8Z",newText:"postcreate_newText__3GPat",button:"postcreate_button__VIcjl"}},68:function(e,t,a){e.exports={newMessage:"createmessage_newMessage__1u_Uq",messageField:"createmessage_messageField__1wW8u",button:"createmessage_button__1LBSC"}},69:function(e,t,a){e.exports={users:"users_users__3_1Rr",title:"users_title__TLbWg",usersList:"users_usersList__L2Awr",preloader:"users_preloader__1Fj3J"}},70:function(e,t,a){e.exports={dialogs:"dialogs_dialogs__1B7oG",noDialog:"dialogs_noDialog__1vhpc",preloader:"dialogs_preloader__3J-JN"}},84:function(e,t,a){e.exports=a.p+"static/media/UserDefault.9d1403c3.png"},85:function(e,t,a){e.exports={item:"navitem_item__2H048",itemLink:"navitem_itemLink__2hSK1",active:"navitem_active__pyTMm"}},86:function(e,t,a){e.exports={friendsBar:"friendsbar_friendsBar__2CG7y",title:"friendsbar_title__PT1eW",items:"friendsbar_items__1SB83"}},87:function(e,t,a){e.exports={item:"frienditem_item__dqGk5",avatar:"frienditem_avatar__1wCn_",name:"frienditem_name__aM34G"}},89:function(e,t,a){e.exports={statusBox:"profilestatus_statusBox__2qWcf",status:"profilestatus_status__2sPLS",statusText:"profilestatus_statusText__1sj4B"}},90:function(e,t,a){e.exports={statusEdit:"statusedit_statusEdit__XB7o6",statusInput:"statusedit_statusInput__29etj",button:"statusedit_button__3gm4N"}},91:function(e,t,a){e.exports={info:"userinfo_info__2gOZS",name:"userinfo_name__2aW7j",status:"userinfo_status__1rQiy"}},92:function(e,t,a){e.exports={messagesBody:"messagesbody_messagesBody__1D6YI",messagesList:"messagesbody_messagesList__1wa2X",selfMessage:"messagesbody_selfMessage__10HCB"}},93:function(e,t,a){e.exports={avatar:"messageitem_avatar__HshMf",message:"messageitem_message__3qVp3",item:"messageitem_item__1pOYK"}},94:function(e,t,a){e.exports={preloader:"apploader_preloader__2XDPF",loader:"apploader_loader__3-zPr",spin:"apploader_spin__2lhor"}}},[[212,1,2]]]);
//# sourceMappingURL=main.214b7280.chunk.js.map